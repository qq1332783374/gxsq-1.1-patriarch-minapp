{"id":"L7ge","dependencies":[{"name":"/code/kefu-fe/webim-weixin-xcx/src/sdk/package.json","includedInParent":true,"mtime":1552362660599},{"name":"./libs/strophe","loc":{"line":1,"column":25},"parent":"/code/kefu-fe/webim-weixin-xcx/src/sdk/message.js","resolved":"/code/kefu-fe/webim-weixin-xcx/src/sdk/libs/strophe.js"},{"name":"./utils","loc":{"line":4,"column":22},"parent":"/code/kefu-fe/webim-weixin-xcx/src/sdk/message.js","resolved":"/code/kefu-fe/webim-weixin-xcx/src/sdk/utils.js"}],"generated":{"js":"var e=require(\"./libs/strophe\");!function(){var t=require(\"./utils\").utils,i=function e(t,i){return this instanceof e?(this._msg={},\"function\"==typeof e[t]&&(e[t].prototype.setGroup=this.setGroup,this._msg=new e[t](i)),this._msg):new e(t)};function o(e){if(!(this instanceof o))return new o(e);this.msg=e}i.prototype.setGroup=function(e){this.body.group=e},(i.read=function(e){this.id=e,this.type=\"read\"}).prototype.set=function(e){this.body={ackId:e.id,to:e.to}},(i.txt=function(e){this.id=e,this.type=\"txt\",this.body={}}).prototype.set=function(e){this.value=e.msg,this.body={id:this.id,from:e.from,to:e.to,msg:this.value,type:this.type,roomType:e.roomType,chatType:e.chatType,ext:e.ext||{},success:e.success,fail:e.fail},!e.roomType&&delete this.body.roomType},(i.cmd=function(e){this.id=e,this.type=\"cmd\",this.body={}}).prototype.set=function(e){this.value=\"\",this.body={to:e.to,from:e.from,action:e.action,msg:this.value,type:this.type,roomType:e.roomType,ext:e.ext||{}},!e.roomType&&delete this.body.roomType},(i.location=function(e){this.id=e,this.type=\"loc\",this.body={}}).prototype.set=function(e){this.body={to:e.to,from:e.from,type:this.type,roomType:e.roomType,addr:e.addr,lat:e.lat,lng:e.lng,chatType:e.chatType,ext:e.ext||{}}},(i.img=function(e){this.id=e,this.type=\"img\",this.body={}}).prototype.set=function(e){this.value=e.file,this.body={id:this.id,file:this.value,apiUrl:e.apiUrl,to:e.to,from:e.from,type:this.type,ext:e.ext||{},roomType:e.roomType,onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,success:e.success,fail:e.fail,flashUpload:e.flashUpload,width:e.width,height:e.height,body:e.body},!e.roomType&&delete this.body.roomType},(i.audio=function(e){this.id=e,this.type=\"audio\",this.body={}}).prototype.set=function(e){e.file=e.file||t.getFileUrl(e.fileInputId),this.value=e.file,this.filename=e.filename||this.value.filename,this.body={id:this.id,file:this.value,filename:this.filename,apiUrl:e.apiUrl,to:e.to,from:e.from,type:this.type,ext:e.ext||{},length:e.length||0,roomType:e.roomType,file_length:e.file_length,onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,success:e.success,fail:e.fail,flashUpload:e.flashUpload,body:e.body},!e.roomType&&delete this.body.roomType},(i.file=function(e){this.id=e,this.type=\"file\",this.body={}}).prototype.set=function(e){e.file=e.file||t.getFileUrl(e.fileInputId),this.value=e.file,this.filename=e.filename||this.value.filename,this.body={id:this.id,file:this.value,filename:this.filename,apiUrl:e.apiUrl,to:e.to,from:e.from,type:this.type,ext:e.ext||{},roomType:e.roomType,onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,success:e.success,fail:e.fail,flashUpload:e.flashUpload,body:e.body},!e.roomType&&delete this.body.roomType},(i.video=function(e){this.id=e,this.type=\"file\",this.body={}}).prototype.set=function(e){e.file=e.file||t.getFileUrl(e.fileInputId),this.value=e.file,this.filename=e.filename||this.value.filename,this.body={id:this.id,file:this.value,filename:this.filename,apiUrl:e.apiUrl,to:e.to,from:e.from,type:this.type,ext:e.ext||{},roomType:e.roomType,onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,success:e.success,fail:e.fail,flashUpload:e.flashUpload,body:e.body},!e.roomType&&delete this.body.roomType},o.prototype.send=function(i){var o=this,s=function(o){o.ext=o.ext||{},o.ext.weichat=o.ext.weichat||{},o.ext.weichat.originType=o.ext.weichat.originType||\"webim\";var s={from:i.context.userId||\"\",to:o.to,bodies:[o.body],ext:o.ext||{}},l=t.stringify(s),p=e.$msg({type:o.group||\"chat\",to:o.toJid,id:o.id,xmlns:\"jabber:client\"}).c(\"body\").t(l);if(o.roomType&&p.up().c(\"roomtype\",{xmlns:\"easemob:x:roomtype\",type:\"chatroom\"}),o.bodyId){p=e.$msg({from:i.context.jid||\"\",to:o.toJid,id:o.id,xmlns:\"jabber:client\"}).c(\"body\").t(o.bodyId);var d={xmlns:\"urn:xmpp:receipts\",id:o.bodyId};p.up().c(\"delivery\",d)}if(o.ackId){if(i.context.jid.indexOf(o.toJid)>=0)return;p=e.$msg({from:i.context.jid||\"\",to:o.toJid,id:o.id,xmlns:\"jabber:client\"}).c(\"body\").t(o.ackId);var n={xmlns:\"urn:xmpp:receipts\",id:o.ackId};p.up().c(\"acked\",n)}i.sendCommand(p.tree(),o.id)};if(o.msg.file){if(o.msg.body&&o.msg.body.url)return void s(o.msg);var l=o.msg.onFileUploadComplete;o.msg.onFileUploadComplete=function(e){if(e.entities[0][\"file-metadata\"]){var t=e.entities[0][\"file-metadata\"][\"content-length\"];o.msg.file_length=t,o.msg.filetype=e.entities[0][\"file-metadata\"][\"content-type\"],t>204800&&(o.msg.thumbnail=!0)}o.msg.body={type:o.msg.type||\"file\",url:e.uri+\"/\"+e.entities[0].uuid,secret:e.entities[0][\"share-secret\"],filename:o.msg.file.filename||o.msg.filename,size:{width:o.msg.width||0,height:o.msg.height||0},length:o.msg.length||0,file_length:o.msg.file_length||0,filetype:o.msg.filetype},s(o.msg),l instanceof Function&&l(e,o.msg.id)},t.uploadFile.call(i,o.msg)}else\"img\"===o.msg.type?s(o.msg):(o.msg.body={type:\"chat\"===o.msg.type?\"txt\":o.msg.type,msg:o.msg.msg},\"cmd\"===o.msg.type?o.msg.body.action=o.msg.action:\"loc\"===o.msg.type&&(o.msg.body.addr=o.msg.addr,o.msg.body.lat=o.msg.lat,o.msg.body.lng=o.msg.lng),s(o.msg))},exports._msg=o,exports.message=i}();"},"sourceMaps":{"js":{"mappings":[{"source":"message.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"message.js","name":"StropheAll","original":{"line":1,"column":4},"generated":{"line":1,"column":4}},{"source":"message.js","name":"require","original":{"line":1,"column":17},"generated":{"line":1,"column":6}},{"source":"message.js","original":{"line":1,"column":25},"generated":{"line":1,"column":14}},{"source":"message.js","original":{"line":3,"column":1},"generated":{"line":1,"column":33}},{"source":"message.js","name":"_utils","original":{"line":4,"column":5},"generated":{"line":1,"column":44}},{"source":"message.js","name":"_utils","original":{"line":4,"column":5},"generated":{"line":1,"column":48}},{"source":"message.js","name":"require","original":{"line":4,"column":14},"generated":{"line":1,"column":50}},{"source":"message.js","original":{"line":4,"column":22},"generated":{"line":1,"column":58}},{"source":"message.js","name":"utils","original":{"line":4,"column":33},"generated":{"line":1,"column":69}},{"source":"message.js","name":"Message","original":{"line":5,"column":5},"generated":{"line":1,"column":75}},{"source":"message.js","original":{"line":5,"column":15},"generated":{"line":1,"column":77}},{"source":"message.js","name":"Message","original":{"line":5,"column":5},"generated":{"line":1,"column":86}},{"source":"message.js","name":"type","original":{"line":5,"column":24},"generated":{"line":1,"column":88}},{"source":"message.js","name":"id","original":{"line":5,"column":30},"generated":{"line":1,"column":90}},{"source":"message.js","original":{"line":6,"column":5},"generated":{"line":1,"column":93}},{"source":"message.js","original":{"line":6,"column":7},"generated":{"line":1,"column":100}},{"source":"message.js","name":"Message","original":{"line":6,"column":23},"generated":{"line":1,"column":116}},{"source":"message.js","name":"_msg","original":{"line":9,"column":7},"generated":{"line":1,"column":119}},{"source":"message.js","name":"_msg","original":{"line":9,"column":7},"generated":{"line":1,"column":124}},{"source":"message.js","original":{"line":9,"column":14},"generated":{"line":1,"column":129}},{"source":"message.js","original":{"line":10,"column":30},"generated":{"line":1,"column":132}},{"source":"message.js","name":"Message","original":{"line":10,"column":12},"generated":{"line":1,"column":151}},{"source":"message.js","name":"type","original":{"line":10,"column":20},"generated":{"line":1,"column":153}},{"source":"message.js","name":"Message","original":{"line":11,"column":3},"generated":{"line":1,"column":158}},{"source":"message.js","name":"type","original":{"line":11,"column":11},"generated":{"line":1,"column":160}},{"source":"message.js","name":"prototype","original":{"line":11,"column":17},"generated":{"line":1,"column":163}},{"source":"message.js","name":"setGroup","original":{"line":11,"column":27},"generated":{"line":1,"column":173}},{"source":"message.js","original":{"line":11,"column":38},"generated":{"line":1,"column":182}},{"source":"message.js","name":"setGroup","original":{"line":11,"column":43},"generated":{"line":1,"column":187}},{"source":"message.js","name":"_msg","original":{"line":12,"column":8},"generated":{"line":1,"column":196}},{"source":"message.js","name":"_msg","original":{"line":12,"column":8},"generated":{"line":1,"column":201}},{"source":"message.js","original":{"line":12,"column":15},"generated":{"line":1,"column":206}},{"source":"message.js","name":"Message","original":{"line":12,"column":19},"generated":{"line":1,"column":210}},{"source":"message.js","name":"type","original":{"line":12,"column":27},"generated":{"line":1,"column":212}},{"source":"message.js","name":"id","original":{"line":12,"column":33},"generated":{"line":1,"column":215}},{"source":"message.js","original":{"line":14,"column":9},"generated":{"line":1,"column":219}},{"source":"message.js","name":"_msg","original":{"line":14,"column":14},"generated":{"line":1,"column":224}},{"source":"message.js","original":{"line":7,"column":10},"generated":{"line":1,"column":230}},{"source":"message.js","name":"Message","original":{"line":7,"column":14},"generated":{"line":1,"column":234}},{"source":"message.js","name":"type","original":{"line":7,"column":22},"generated":{"line":1,"column":236}},{"source":"message.js","name":"_Message","original":{"line":245,"column":10},"generated":{"line":1,"column":240}},{"source":"message.js","name":"_Message","original":{"line":245,"column":10},"generated":{"line":1,"column":249}},{"source":"message.js","name":"message","original":{"line":245,"column":19},"generated":{"line":1,"column":251}},{"source":"message.js","original":{"line":246,"column":5},"generated":{"line":1,"column":254}},{"source":"message.js","original":{"line":246,"column":7},"generated":{"line":1,"column":259}},{"source":"message.js","name":"_Message","original":{"line":246,"column":23},"generated":{"line":1,"column":275}},{"source":"message.js","original":{"line":247,"column":10},"generated":{"line":1,"column":278}},{"source":"message.js","original":{"line":247,"column":10},"generated":{"line":1,"column":285}},{"source":"message.js","name":"_Message","original":{"line":247,"column":14},"generated":{"line":1,"column":289}},{"source":"message.js","name":"message","original":{"line":247,"column":23},"generated":{"line":1,"column":291}},{"source":"message.js","name":"msg","original":{"line":249,"column":7},"generated":{"line":1,"column":294}},{"source":"message.js","name":"msg","original":{"line":249,"column":7},"generated":{"line":1,"column":299}},{"source":"message.js","name":"message","original":{"line":249,"column":13},"generated":{"line":1,"column":303}},{"source":"message.js","name":"Message","original":{"line":16,"column":1},"generated":{"line":1,"column":305}},{"source":"message.js","name":"prototype","original":{"line":16,"column":9},"generated":{"line":1,"column":307}},{"source":"message.js","name":"setGroup","original":{"line":16,"column":19},"generated":{"line":1,"column":317}},{"source":"message.js","original":{"line":16,"column":30},"generated":{"line":1,"column":326}},{"source":"message.js","name":"group","original":{"line":16,"column":39},"generated":{"line":1,"column":335}},{"source":"message.js","name":"body","original":{"line":17,"column":7},"generated":{"line":1,"column":338}},{"source":"message.js","name":"body","original":{"line":17,"column":7},"generated":{"line":1,"column":343}},{"source":"message.js","name":"group","original":{"line":17,"column":12},"generated":{"line":1,"column":348}},{"source":"message.js","name":"group","original":{"line":17,"column":20},"generated":{"line":1,"column":354}},{"source":"message.js","name":"Message","original":{"line":23,"column":1},"generated":{"line":1,"column":358}},{"source":"message.js","name":"read","original":{"line":23,"column":9},"generated":{"line":1,"column":360}},{"source":"message.js","original":{"line":23,"column":16},"generated":{"line":1,"column":365}},{"source":"message.js","name":"id","original":{"line":23,"column":25},"generated":{"line":1,"column":374}},{"source":"message.js","name":"id","original":{"line":24,"column":7},"generated":{"line":1,"column":377}},{"source":"message.js","name":"id","original":{"line":24,"column":7},"generated":{"line":1,"column":382}},{"source":"message.js","name":"id","original":{"line":24,"column":12},"generated":{"line":1,"column":385}},{"source":"message.js","name":"type","original":{"line":25,"column":7},"generated":{"line":1,"column":387}},{"source":"message.js","name":"type","original":{"line":25,"column":7},"generated":{"line":1,"column":392}},{"source":"message.js","original":{"line":25,"column":14},"generated":{"line":1,"column":397}},{"source":"message.js","name":"prototype","original":{"line":28,"column":14},"generated":{"line":1,"column":406}},{"source":"message.js","name":"set","original":{"line":28,"column":24},"generated":{"line":1,"column":416}},{"source":"message.js","original":{"line":28,"column":30},"generated":{"line":1,"column":420}},{"source":"message.js","name":"opt","original":{"line":28,"column":39},"generated":{"line":1,"column":429}},{"source":"message.js","name":"body","original":{"line":29,"column":7},"generated":{"line":1,"column":432}},{"source":"message.js","name":"body","original":{"line":29,"column":7},"generated":{"line":1,"column":437}},{"source":"message.js","original":{"line":29,"column":14},"generated":{"line":1,"column":442}},{"source":"message.js","name":"ackId","original":{"line":30,"column":3},"generated":{"line":1,"column":443}},{"source":"message.js","name":"opt","original":{"line":30,"column":10},"generated":{"line":1,"column":449}},{"source":"message.js","name":"id","original":{"line":30,"column":14},"generated":{"line":1,"column":451}},{"source":"message.js","name":"to","original":{"line":31,"column":5},"generated":{"line":1,"column":454}},{"source":"message.js","name":"opt","original":{"line":31,"column":9},"generated":{"line":1,"column":457}},{"source":"message.js","name":"to","original":{"line":31,"column":13},"generated":{"line":1,"column":459}},{"source":"message.js","name":"Message","original":{"line":38,"column":1},"generated":{"line":1,"column":465}},{"source":"message.js","name":"txt","original":{"line":38,"column":9},"generated":{"line":1,"column":467}},{"source":"message.js","original":{"line":38,"column":15},"generated":{"line":1,"column":471}},{"source":"message.js","name":"id","original":{"line":38,"column":24},"generated":{"line":1,"column":480}},{"source":"message.js","name":"id","original":{"line":39,"column":7},"generated":{"line":1,"column":483}},{"source":"message.js","name":"id","original":{"line":39,"column":7},"generated":{"line":1,"column":488}},{"source":"message.js","name":"id","original":{"line":39,"column":12},"generated":{"line":1,"column":491}},{"source":"message.js","name":"type","original":{"line":40,"column":7},"generated":{"line":1,"column":493}},{"source":"message.js","name":"type","original":{"line":40,"column":7},"generated":{"line":1,"column":498}},{"source":"message.js","original":{"line":40,"column":14},"generated":{"line":1,"column":503}},{"source":"message.js","name":"body","original":{"line":41,"column":7},"generated":{"line":1,"column":509}},{"source":"message.js","name":"body","original":{"line":41,"column":7},"generated":{"line":1,"column":514}},{"source":"message.js","original":{"line":41,"column":14},"generated":{"line":1,"column":519}},{"source":"message.js","name":"prototype","original":{"line":43,"column":13},"generated":{"line":1,"column":524}},{"source":"message.js","name":"set","original":{"line":43,"column":23},"generated":{"line":1,"column":534}},{"source":"message.js","original":{"line":43,"column":29},"generated":{"line":1,"column":538}},{"source":"message.js","name":"opt","original":{"line":43,"column":38},"generated":{"line":1,"column":547}},{"source":"message.js","name":"value","original":{"line":44,"column":7},"generated":{"line":1,"column":550}},{"source":"message.js","name":"value","original":{"line":44,"column":7},"generated":{"line":1,"column":555}},{"source":"message.js","name":"opt","original":{"line":44,"column":15},"generated":{"line":1,"column":561}},{"source":"message.js","name":"msg","original":{"line":44,"column":19},"generated":{"line":1,"column":563}},{"source":"message.js","name":"body","original":{"line":45,"column":7},"generated":{"line":1,"column":567}},{"source":"message.js","name":"body","original":{"line":45,"column":7},"generated":{"line":1,"column":572}},{"source":"message.js","original":{"line":45,"column":14},"generated":{"line":1,"column":577}},{"source":"message.js","name":"id","original":{"line":46,"column":3},"generated":{"line":1,"column":578}},{"source":"message.js","original":{"line":46,"column":7},"generated":{"line":1,"column":581}},{"source":"message.js","name":"id","original":{"line":46,"column":12},"generated":{"line":1,"column":586}},{"source":"message.js","name":"from","original":{"line":47,"column":3},"generated":{"line":1,"column":589}},{"source":"message.js","name":"opt","original":{"line":47,"column":9},"generated":{"line":1,"column":594}},{"source":"message.js","name":"from","original":{"line":47,"column":13},"generated":{"line":1,"column":596}},{"source":"message.js","name":"to","original":{"line":48,"column":3},"generated":{"line":1,"column":601}},{"source":"message.js","name":"opt","original":{"line":48,"column":7},"generated":{"line":1,"column":604}},{"source":"message.js","name":"to","original":{"line":48,"column":11},"generated":{"line":1,"column":606}},{"source":"message.js","name":"msg","original":{"line":49,"column":3},"generated":{"line":1,"column":609}},{"source":"message.js","original":{"line":49,"column":8},"generated":{"line":1,"column":613}},{"source":"message.js","name":"value","original":{"line":49,"column":13},"generated":{"line":1,"column":618}},{"source":"message.js","name":"type","original":{"line":50,"column":3},"generated":{"line":1,"column":624}},{"source":"message.js","original":{"line":50,"column":9},"generated":{"line":1,"column":629}},{"source":"message.js","name":"type","original":{"line":50,"column":14},"generated":{"line":1,"column":634}},{"source":"message.js","name":"roomType","original":{"line":51,"column":3},"generated":{"line":1,"column":639}},{"source":"message.js","name":"opt","original":{"line":51,"column":13},"generated":{"line":1,"column":648}},{"source":"message.js","name":"roomType","original":{"line":51,"column":17},"generated":{"line":1,"column":650}},{"source":"message.js","name":"chatType","original":{"line":52,"column":3},"generated":{"line":1,"column":659}},{"source":"message.js","name":"opt","original":{"line":52,"column":13},"generated":{"line":1,"column":668}},{"source":"message.js","name":"chatType","original":{"line":52,"column":17},"generated":{"line":1,"column":670}},{"source":"message.js","name":"ext","original":{"line":53,"column":3},"generated":{"line":1,"column":679}},{"source":"message.js","name":"opt","original":{"line":53,"column":8},"generated":{"line":1,"column":683}},{"source":"message.js","name":"ext","original":{"line":53,"column":12},"generated":{"line":1,"column":685}},{"source":"message.js","original":{"line":53,"column":19},"generated":{"line":1,"column":690}},{"source":"message.js","name":"success","original":{"line":54,"column":3},"generated":{"line":1,"column":693}},{"source":"message.js","name":"opt","original":{"line":54,"column":12},"generated":{"line":1,"column":701}},{"source":"message.js","name":"success","original":{"line":54,"column":16},"generated":{"line":1,"column":703}},{"source":"message.js","name":"fail","original":{"line":55,"column":3},"generated":{"line":1,"column":711}},{"source":"message.js","name":"opt","original":{"line":55,"column":9},"generated":{"line":1,"column":716}},{"source":"message.js","name":"fail","original":{"line":55,"column":13},"generated":{"line":1,"column":718}},{"source":"message.js","name":"opt","original":{"line":57,"column":3},"generated":{"line":1,"column":725}},{"source":"message.js","name":"roomType","original":{"line":57,"column":7},"generated":{"line":1,"column":727}},{"source":"message.js","original":{"line":57,"column":26},"generated":{"line":1,"column":744}},{"source":"message.js","name":"body","original":{"line":57,"column":31},"generated":{"line":1,"column":749}},{"source":"message.js","name":"roomType","original":{"line":57,"column":36},"generated":{"line":1,"column":754}},{"source":"message.js","name":"Message","original":{"line":63,"column":1},"generated":{"line":1,"column":765}},{"source":"message.js","name":"cmd","original":{"line":63,"column":9},"generated":{"line":1,"column":767}},{"source":"message.js","original":{"line":63,"column":15},"generated":{"line":1,"column":771}},{"source":"message.js","name":"id","original":{"line":63,"column":24},"generated":{"line":1,"column":780}},{"source":"message.js","name":"id","original":{"line":64,"column":7},"generated":{"line":1,"column":783}},{"source":"message.js","name":"id","original":{"line":64,"column":7},"generated":{"line":1,"column":788}},{"source":"message.js","name":"id","original":{"line":64,"column":12},"generated":{"line":1,"column":791}},{"source":"message.js","name":"type","original":{"line":65,"column":7},"generated":{"line":1,"column":793}},{"source":"message.js","name":"type","original":{"line":65,"column":7},"generated":{"line":1,"column":798}},{"source":"message.js","original":{"line":65,"column":14},"generated":{"line":1,"column":803}},{"source":"message.js","name":"body","original":{"line":66,"column":7},"generated":{"line":1,"column":809}},{"source":"message.js","name":"body","original":{"line":66,"column":7},"generated":{"line":1,"column":814}},{"source":"message.js","original":{"line":66,"column":14},"generated":{"line":1,"column":819}},{"source":"message.js","name":"prototype","original":{"line":68,"column":13},"generated":{"line":1,"column":824}},{"source":"message.js","name":"set","original":{"line":68,"column":23},"generated":{"line":1,"column":834}},{"source":"message.js","original":{"line":68,"column":29},"generated":{"line":1,"column":838}},{"source":"message.js","name":"opt","original":{"line":68,"column":38},"generated":{"line":1,"column":847}},{"source":"message.js","name":"value","original":{"line":69,"column":7},"generated":{"line":1,"column":850}},{"source":"message.js","name":"value","original":{"line":69,"column":7},"generated":{"line":1,"column":855}},{"source":"message.js","original":{"line":69,"column":15},"generated":{"line":1,"column":861}},{"source":"message.js","name":"body","original":{"line":71,"column":7},"generated":{"line":1,"column":864}},{"source":"message.js","name":"body","original":{"line":71,"column":7},"generated":{"line":1,"column":869}},{"source":"message.js","original":{"line":71,"column":14},"generated":{"line":1,"column":874}},{"source":"message.js","name":"to","original":{"line":72,"column":3},"generated":{"line":1,"column":875}},{"source":"message.js","name":"opt","original":{"line":72,"column":7},"generated":{"line":1,"column":878}},{"source":"message.js","name":"to","original":{"line":72,"column":11},"generated":{"line":1,"column":880}},{"source":"message.js","name":"from","original":{"line":73,"column":3},"generated":{"line":1,"column":883}},{"source":"message.js","name":"opt","original":{"line":73,"column":9},"generated":{"line":1,"column":888}},{"source":"message.js","name":"from","original":{"line":73,"column":13},"generated":{"line":1,"column":890}},{"source":"message.js","name":"action","original":{"line":74,"column":3},"generated":{"line":1,"column":895}},{"source":"message.js","name":"opt","original":{"line":74,"column":11},"generated":{"line":1,"column":902}},{"source":"message.js","name":"action","original":{"line":74,"column":15},"generated":{"line":1,"column":904}},{"source":"message.js","name":"msg","original":{"line":75,"column":3},"generated":{"line":1,"column":911}},{"source":"message.js","original":{"line":75,"column":8},"generated":{"line":1,"column":915}},{"source":"message.js","name":"value","original":{"line":75,"column":13},"generated":{"line":1,"column":920}},{"source":"message.js","name":"type","original":{"line":76,"column":3},"generated":{"line":1,"column":926}},{"source":"message.js","original":{"line":76,"column":9},"generated":{"line":1,"column":931}},{"source":"message.js","name":"type","original":{"line":76,"column":14},"generated":{"line":1,"column":936}},{"source":"message.js","name":"roomType","original":{"line":77,"column":3},"generated":{"line":1,"column":941}},{"source":"message.js","name":"opt","original":{"line":77,"column":13},"generated":{"line":1,"column":950}},{"source":"message.js","name":"roomType","original":{"line":77,"column":17},"generated":{"line":1,"column":952}},{"source":"message.js","name":"ext","original":{"line":78,"column":3},"generated":{"line":1,"column":961}},{"source":"message.js","name":"opt","original":{"line":78,"column":8},"generated":{"line":1,"column":965}},{"source":"message.js","name":"ext","original":{"line":78,"column":12},"generated":{"line":1,"column":967}},{"source":"message.js","original":{"line":78,"column":19},"generated":{"line":1,"column":972}},{"source":"message.js","name":"opt","original":{"line":80,"column":3},"generated":{"line":1,"column":977}},{"source":"message.js","name":"roomType","original":{"line":80,"column":7},"generated":{"line":1,"column":979}},{"source":"message.js","original":{"line":80,"column":26},"generated":{"line":1,"column":996}},{"source":"message.js","name":"body","original":{"line":80,"column":31},"generated":{"line":1,"column":1001}},{"source":"message.js","name":"roomType","original":{"line":80,"column":36},"generated":{"line":1,"column":1006}},{"source":"message.js","name":"Message","original":{"line":86,"column":1},"generated":{"line":1,"column":1017}},{"source":"message.js","name":"location","original":{"line":86,"column":9},"generated":{"line":1,"column":1019}},{"source":"message.js","original":{"line":86,"column":20},"generated":{"line":1,"column":1028}},{"source":"message.js","name":"id","original":{"line":86,"column":29},"generated":{"line":1,"column":1037}},{"source":"message.js","name":"id","original":{"line":87,"column":7},"generated":{"line":1,"column":1040}},{"source":"message.js","name":"id","original":{"line":87,"column":7},"generated":{"line":1,"column":1045}},{"source":"message.js","name":"id","original":{"line":87,"column":12},"generated":{"line":1,"column":1048}},{"source":"message.js","name":"type","original":{"line":88,"column":7},"generated":{"line":1,"column":1050}},{"source":"message.js","name":"type","original":{"line":88,"column":7},"generated":{"line":1,"column":1055}},{"source":"message.js","original":{"line":88,"column":14},"generated":{"line":1,"column":1060}},{"source":"message.js","name":"body","original":{"line":89,"column":7},"generated":{"line":1,"column":1066}},{"source":"message.js","name":"body","original":{"line":89,"column":7},"generated":{"line":1,"column":1071}},{"source":"message.js","original":{"line":89,"column":14},"generated":{"line":1,"column":1076}},{"source":"message.js","name":"prototype","original":{"line":91,"column":18},"generated":{"line":1,"column":1081}},{"source":"message.js","name":"set","original":{"line":91,"column":28},"generated":{"line":1,"column":1091}},{"source":"message.js","original":{"line":91,"column":34},"generated":{"line":1,"column":1095}},{"source":"message.js","name":"opt","original":{"line":91,"column":43},"generated":{"line":1,"column":1104}},{"source":"message.js","name":"body","original":{"line":92,"column":7},"generated":{"line":1,"column":1107}},{"source":"message.js","name":"body","original":{"line":92,"column":7},"generated":{"line":1,"column":1112}},{"source":"message.js","original":{"line":92,"column":14},"generated":{"line":1,"column":1117}},{"source":"message.js","name":"to","original":{"line":93,"column":3},"generated":{"line":1,"column":1118}},{"source":"message.js","name":"opt","original":{"line":93,"column":7},"generated":{"line":1,"column":1121}},{"source":"message.js","name":"to","original":{"line":93,"column":11},"generated":{"line":1,"column":1123}},{"source":"message.js","name":"from","original":{"line":94,"column":3},"generated":{"line":1,"column":1126}},{"source":"message.js","name":"opt","original":{"line":94,"column":9},"generated":{"line":1,"column":1131}},{"source":"message.js","name":"from","original":{"line":94,"column":13},"generated":{"line":1,"column":1133}},{"source":"message.js","name":"type","original":{"line":95,"column":3},"generated":{"line":1,"column":1138}},{"source":"message.js","original":{"line":95,"column":9},"generated":{"line":1,"column":1143}},{"source":"message.js","name":"type","original":{"line":95,"column":14},"generated":{"line":1,"column":1148}},{"source":"message.js","name":"roomType","original":{"line":96,"column":3},"generated":{"line":1,"column":1153}},{"source":"message.js","name":"opt","original":{"line":96,"column":13},"generated":{"line":1,"column":1162}},{"source":"message.js","name":"roomType","original":{"line":96,"column":17},"generated":{"line":1,"column":1164}},{"source":"message.js","name":"addr","original":{"line":97,"column":3},"generated":{"line":1,"column":1173}},{"source":"message.js","name":"opt","original":{"line":97,"column":9},"generated":{"line":1,"column":1178}},{"source":"message.js","name":"addr","original":{"line":97,"column":13},"generated":{"line":1,"column":1180}},{"source":"message.js","name":"lat","original":{"line":98,"column":3},"generated":{"line":1,"column":1185}},{"source":"message.js","name":"opt","original":{"line":98,"column":8},"generated":{"line":1,"column":1189}},{"source":"message.js","name":"lat","original":{"line":98,"column":12},"generated":{"line":1,"column":1191}},{"source":"message.js","name":"lng","original":{"line":99,"column":3},"generated":{"line":1,"column":1195}},{"source":"message.js","name":"opt","original":{"line":99,"column":8},"generated":{"line":1,"column":1199}},{"source":"message.js","name":"lng","original":{"line":99,"column":12},"generated":{"line":1,"column":1201}},{"source":"message.js","name":"chatType","original":{"line":100,"column":3},"generated":{"line":1,"column":1205}},{"source":"message.js","name":"opt","original":{"line":100,"column":13},"generated":{"line":1,"column":1214}},{"source":"message.js","name":"chatType","original":{"line":100,"column":17},"generated":{"line":1,"column":1216}},{"source":"message.js","name":"ext","original":{"line":101,"column":3},"generated":{"line":1,"column":1225}},{"source":"message.js","name":"opt","original":{"line":101,"column":8},"generated":{"line":1,"column":1229}},{"source":"message.js","name":"ext","original":{"line":101,"column":12},"generated":{"line":1,"column":1231}},{"source":"message.js","original":{"line":101,"column":19},"generated":{"line":1,"column":1236}},{"source":"message.js","name":"Message","original":{"line":108,"column":1},"generated":{"line":1,"column":1242}},{"source":"message.js","name":"img","original":{"line":108,"column":9},"generated":{"line":1,"column":1244}},{"source":"message.js","original":{"line":108,"column":15},"generated":{"line":1,"column":1248}},{"source":"message.js","name":"id","original":{"line":108,"column":24},"generated":{"line":1,"column":1257}},{"source":"message.js","name":"id","original":{"line":109,"column":7},"generated":{"line":1,"column":1260}},{"source":"message.js","name":"id","original":{"line":109,"column":7},"generated":{"line":1,"column":1265}},{"source":"message.js","name":"id","original":{"line":109,"column":12},"generated":{"line":1,"column":1268}},{"source":"message.js","name":"type","original":{"line":110,"column":7},"generated":{"line":1,"column":1270}},{"source":"message.js","name":"type","original":{"line":110,"column":7},"generated":{"line":1,"column":1275}},{"source":"message.js","original":{"line":110,"column":14},"generated":{"line":1,"column":1280}},{"source":"message.js","name":"body","original":{"line":111,"column":7},"generated":{"line":1,"column":1286}},{"source":"message.js","name":"body","original":{"line":111,"column":7},"generated":{"line":1,"column":1291}},{"source":"message.js","original":{"line":111,"column":14},"generated":{"line":1,"column":1296}},{"source":"message.js","name":"prototype","original":{"line":113,"column":13},"generated":{"line":1,"column":1301}},{"source":"message.js","name":"set","original":{"line":113,"column":23},"generated":{"line":1,"column":1311}},{"source":"message.js","original":{"line":113,"column":29},"generated":{"line":1,"column":1315}},{"source":"message.js","name":"opt","original":{"line":113,"column":38},"generated":{"line":1,"column":1324}},{"source":"message.js","name":"value","original":{"line":116,"column":7},"generated":{"line":1,"column":1327}},{"source":"message.js","name":"value","original":{"line":116,"column":7},"generated":{"line":1,"column":1332}},{"source":"message.js","name":"opt","original":{"line":116,"column":15},"generated":{"line":1,"column":1338}},{"source":"message.js","name":"file","original":{"line":116,"column":19},"generated":{"line":1,"column":1340}},{"source":"message.js","name":"body","original":{"line":117,"column":7},"generated":{"line":1,"column":1345}},{"source":"message.js","name":"body","original":{"line":117,"column":7},"generated":{"line":1,"column":1350}},{"source":"message.js","original":{"line":117,"column":14},"generated":{"line":1,"column":1355}},{"source":"message.js","name":"id","original":{"line":118,"column":3},"generated":{"line":1,"column":1356}},{"source":"message.js","original":{"line":118,"column":7},"generated":{"line":1,"column":1359}},{"source":"message.js","name":"id","original":{"line":118,"column":12},"generated":{"line":1,"column":1364}},{"source":"message.js","name":"file","original":{"line":119,"column":3},"generated":{"line":1,"column":1367}},{"source":"message.js","original":{"line":119,"column":9},"generated":{"line":1,"column":1372}},{"source":"message.js","name":"value","original":{"line":119,"column":14},"generated":{"line":1,"column":1377}},{"source":"message.js","name":"apiUrl","original":{"line":120,"column":3},"generated":{"line":1,"column":1383}},{"source":"message.js","name":"opt","original":{"line":120,"column":11},"generated":{"line":1,"column":1390}},{"source":"message.js","name":"apiUrl","original":{"line":120,"column":15},"generated":{"line":1,"column":1392}},{"source":"message.js","name":"to","original":{"line":121,"column":3},"generated":{"line":1,"column":1399}},{"source":"message.js","name":"opt","original":{"line":121,"column":7},"generated":{"line":1,"column":1402}},{"source":"message.js","name":"to","original":{"line":121,"column":11},"generated":{"line":1,"column":1404}},{"source":"message.js","name":"from","original":{"line":122,"column":3},"generated":{"line":1,"column":1407}},{"source":"message.js","name":"opt","original":{"line":122,"column":9},"generated":{"line":1,"column":1412}},{"source":"message.js","name":"from","original":{"line":122,"column":13},"generated":{"line":1,"column":1414}},{"source":"message.js","name":"type","original":{"line":123,"column":3},"generated":{"line":1,"column":1419}},{"source":"message.js","original":{"line":123,"column":9},"generated":{"line":1,"column":1424}},{"source":"message.js","name":"type","original":{"line":123,"column":14},"generated":{"line":1,"column":1429}},{"source":"message.js","name":"ext","original":{"line":124,"column":3},"generated":{"line":1,"column":1434}},{"source":"message.js","name":"opt","original":{"line":124,"column":8},"generated":{"line":1,"column":1438}},{"source":"message.js","name":"ext","original":{"line":124,"column":12},"generated":{"line":1,"column":1440}},{"source":"message.js","original":{"line":124,"column":19},"generated":{"line":1,"column":1445}},{"source":"message.js","name":"roomType","original":{"line":125,"column":3},"generated":{"line":1,"column":1448}},{"source":"message.js","name":"opt","original":{"line":125,"column":13},"generated":{"line":1,"column":1457}},{"source":"message.js","name":"roomType","original":{"line":125,"column":17},"generated":{"line":1,"column":1459}},{"source":"message.js","name":"onFileUploadError","original":{"line":126,"column":3},"generated":{"line":1,"column":1468}},{"source":"message.js","name":"opt","original":{"line":126,"column":22},"generated":{"line":1,"column":1486}},{"source":"message.js","name":"onFileUploadError","original":{"line":126,"column":26},"generated":{"line":1,"column":1488}},{"source":"message.js","name":"onFileUploadComplete","original":{"line":127,"column":3},"generated":{"line":1,"column":1506}},{"source":"message.js","name":"opt","original":{"line":127,"column":25},"generated":{"line":1,"column":1527}},{"source":"message.js","name":"onFileUploadComplete","original":{"line":127,"column":29},"generated":{"line":1,"column":1529}},{"source":"message.js","name":"success","original":{"line":128,"column":3},"generated":{"line":1,"column":1550}},{"source":"message.js","name":"opt","original":{"line":128,"column":12},"generated":{"line":1,"column":1558}},{"source":"message.js","name":"success","original":{"line":128,"column":16},"generated":{"line":1,"column":1560}},{"source":"message.js","name":"fail","original":{"line":129,"column":3},"generated":{"line":1,"column":1568}},{"source":"message.js","name":"opt","original":{"line":129,"column":9},"generated":{"line":1,"column":1573}},{"source":"message.js","name":"fail","original":{"line":129,"column":13},"generated":{"line":1,"column":1575}},{"source":"message.js","name":"flashUpload","original":{"line":130,"column":3},"generated":{"line":1,"column":1580}},{"source":"message.js","name":"opt","original":{"line":130,"column":16},"generated":{"line":1,"column":1592}},{"source":"message.js","name":"flashUpload","original":{"line":130,"column":20},"generated":{"line":1,"column":1594}},{"source":"message.js","name":"width","original":{"line":131,"column":3},"generated":{"line":1,"column":1606}},{"source":"message.js","name":"opt","original":{"line":131,"column":10},"generated":{"line":1,"column":1612}},{"source":"message.js","name":"width","original":{"line":131,"column":14},"generated":{"line":1,"column":1614}},{"source":"message.js","name":"height","original":{"line":132,"column":3},"generated":{"line":1,"column":1620}},{"source":"message.js","name":"opt","original":{"line":132,"column":11},"generated":{"line":1,"column":1627}},{"source":"message.js","name":"height","original":{"line":132,"column":15},"generated":{"line":1,"column":1629}},{"source":"message.js","name":"body","original":{"line":133,"column":3},"generated":{"line":1,"column":1636}},{"source":"message.js","name":"opt","original":{"line":133,"column":9},"generated":{"line":1,"column":1641}},{"source":"message.js","name":"body","original":{"line":133,"column":13},"generated":{"line":1,"column":1643}},{"source":"message.js","name":"opt","original":{"line":135,"column":3},"generated":{"line":1,"column":1650}},{"source":"message.js","name":"roomType","original":{"line":135,"column":7},"generated":{"line":1,"column":1652}},{"source":"message.js","original":{"line":135,"column":26},"generated":{"line":1,"column":1669}},{"source":"message.js","name":"body","original":{"line":135,"column":31},"generated":{"line":1,"column":1674}},{"source":"message.js","name":"roomType","original":{"line":135,"column":36},"generated":{"line":1,"column":1679}},{"source":"message.js","name":"Message","original":{"line":141,"column":1},"generated":{"line":1,"column":1690}},{"source":"message.js","name":"audio","original":{"line":141,"column":9},"generated":{"line":1,"column":1692}},{"source":"message.js","original":{"line":141,"column":17},"generated":{"line":1,"column":1698}},{"source":"message.js","name":"id","original":{"line":141,"column":26},"generated":{"line":1,"column":1707}},{"source":"message.js","name":"id","original":{"line":142,"column":7},"generated":{"line":1,"column":1710}},{"source":"message.js","name":"id","original":{"line":142,"column":7},"generated":{"line":1,"column":1715}},{"source":"message.js","name":"id","original":{"line":142,"column":12},"generated":{"line":1,"column":1718}},{"source":"message.js","name":"type","original":{"line":143,"column":7},"generated":{"line":1,"column":1720}},{"source":"message.js","name":"type","original":{"line":143,"column":7},"generated":{"line":1,"column":1725}},{"source":"message.js","original":{"line":143,"column":14},"generated":{"line":1,"column":1730}},{"source":"message.js","name":"body","original":{"line":144,"column":7},"generated":{"line":1,"column":1738}},{"source":"message.js","name":"body","original":{"line":144,"column":7},"generated":{"line":1,"column":1743}},{"source":"message.js","original":{"line":144,"column":14},"generated":{"line":1,"column":1748}},{"source":"message.js","name":"prototype","original":{"line":146,"column":15},"generated":{"line":1,"column":1753}},{"source":"message.js","name":"set","original":{"line":146,"column":25},"generated":{"line":1,"column":1763}},{"source":"message.js","original":{"line":146,"column":31},"generated":{"line":1,"column":1767}},{"source":"message.js","name":"opt","original":{"line":146,"column":40},"generated":{"line":1,"column":1776}},{"source":"message.js","name":"opt","original":{"line":147,"column":2},"generated":{"line":1,"column":1779}},{"source":"message.js","name":"file","original":{"line":147,"column":6},"generated":{"line":1,"column":1781}},{"source":"message.js","name":"opt","original":{"line":147,"column":13},"generated":{"line":1,"column":1786}},{"source":"message.js","name":"file","original":{"line":147,"column":17},"generated":{"line":1,"column":1788}},{"source":"message.js","name":"_utils","original":{"line":147,"column":25},"generated":{"line":1,"column":1794}},{"source":"message.js","name":"getFileUrl","original":{"line":147,"column":32},"generated":{"line":1,"column":1796}},{"source":"message.js","name":"opt","original":{"line":147,"column":43},"generated":{"line":1,"column":1807}},{"source":"message.js","name":"fileInputId","original":{"line":147,"column":47},"generated":{"line":1,"column":1809}},{"source":"message.js","name":"value","original":{"line":149,"column":7},"generated":{"line":1,"column":1822}},{"source":"message.js","name":"value","original":{"line":149,"column":7},"generated":{"line":1,"column":1827}},{"source":"message.js","name":"opt","original":{"line":149,"column":15},"generated":{"line":1,"column":1833}},{"source":"message.js","name":"file","original":{"line":149,"column":19},"generated":{"line":1,"column":1835}},{"source":"message.js","name":"filename","original":{"line":150,"column":7},"generated":{"line":1,"column":1840}},{"source":"message.js","name":"filename","original":{"line":150,"column":7},"generated":{"line":1,"column":1845}},{"source":"message.js","name":"opt","original":{"line":150,"column":18},"generated":{"line":1,"column":1854}},{"source":"message.js","name":"filename","original":{"line":150,"column":22},"generated":{"line":1,"column":1856}},{"source":"message.js","original":{"line":150,"column":34},"generated":{"line":1,"column":1866}},{"source":"message.js","name":"value","original":{"line":150,"column":39},"generated":{"line":1,"column":1871}},{"source":"message.js","name":"filename","original":{"line":150,"column":45},"generated":{"line":1,"column":1877}},{"source":"message.js","name":"body","original":{"line":152,"column":7},"generated":{"line":1,"column":1886}},{"source":"message.js","name":"body","original":{"line":152,"column":7},"generated":{"line":1,"column":1891}},{"source":"message.js","original":{"line":152,"column":14},"generated":{"line":1,"column":1896}},{"source":"message.js","name":"id","original":{"line":153,"column":3},"generated":{"line":1,"column":1897}},{"source":"message.js","original":{"line":153,"column":7},"generated":{"line":1,"column":1900}},{"source":"message.js","name":"id","original":{"line":153,"column":12},"generated":{"line":1,"column":1905}},{"source":"message.js","name":"file","original":{"line":154,"column":3},"generated":{"line":1,"column":1908}},{"source":"message.js","original":{"line":154,"column":9},"generated":{"line":1,"column":1913}},{"source":"message.js","name":"value","original":{"line":154,"column":14},"generated":{"line":1,"column":1918}},{"source":"message.js","name":"filename","original":{"line":155,"column":3},"generated":{"line":1,"column":1924}},{"source":"message.js","original":{"line":155,"column":13},"generated":{"line":1,"column":1933}},{"source":"message.js","name":"filename","original":{"line":155,"column":18},"generated":{"line":1,"column":1938}},{"source":"message.js","name":"apiUrl","original":{"line":156,"column":3},"generated":{"line":1,"column":1947}},{"source":"message.js","name":"opt","original":{"line":156,"column":11},"generated":{"line":1,"column":1954}},{"source":"message.js","name":"apiUrl","original":{"line":156,"column":15},"generated":{"line":1,"column":1956}},{"source":"message.js","name":"to","original":{"line":157,"column":3},"generated":{"line":1,"column":1963}},{"source":"message.js","name":"opt","original":{"line":157,"column":7},"generated":{"line":1,"column":1966}},{"source":"message.js","name":"to","original":{"line":157,"column":11},"generated":{"line":1,"column":1968}},{"source":"message.js","name":"from","original":{"line":158,"column":3},"generated":{"line":1,"column":1971}},{"source":"message.js","name":"opt","original":{"line":158,"column":9},"generated":{"line":1,"column":1976}},{"source":"message.js","name":"from","original":{"line":158,"column":13},"generated":{"line":1,"column":1978}},{"source":"message.js","name":"type","original":{"line":159,"column":3},"generated":{"line":1,"column":1983}},{"source":"message.js","original":{"line":159,"column":9},"generated":{"line":1,"column":1988}},{"source":"message.js","name":"type","original":{"line":159,"column":14},"generated":{"line":1,"column":1993}},{"source":"message.js","name":"ext","original":{"line":160,"column":3},"generated":{"line":1,"column":1998}},{"source":"message.js","name":"opt","original":{"line":160,"column":8},"generated":{"line":1,"column":2002}},{"source":"message.js","name":"ext","original":{"line":160,"column":12},"generated":{"line":1,"column":2004}},{"source":"message.js","original":{"line":160,"column":19},"generated":{"line":1,"column":2009}},{"source":"message.js","name":"length","original":{"line":161,"column":3},"generated":{"line":1,"column":2012}},{"source":"message.js","name":"opt","original":{"line":161,"column":11},"generated":{"line":1,"column":2019}},{"source":"message.js","name":"length","original":{"line":161,"column":15},"generated":{"line":1,"column":2021}},{"source":"message.js","original":{"line":161,"column":25},"generated":{"line":1,"column":2029}},{"source":"message.js","name":"roomType","original":{"line":162,"column":3},"generated":{"line":1,"column":2031}},{"source":"message.js","name":"opt","original":{"line":162,"column":13},"generated":{"line":1,"column":2040}},{"source":"message.js","name":"roomType","original":{"line":162,"column":17},"generated":{"line":1,"column":2042}},{"source":"message.js","name":"file_length","original":{"line":163,"column":3},"generated":{"line":1,"column":2051}},{"source":"message.js","name":"opt","original":{"line":163,"column":16},"generated":{"line":1,"column":2063}},{"source":"message.js","name":"file_length","original":{"line":163,"column":20},"generated":{"line":1,"column":2065}},{"source":"message.js","name":"onFileUploadError","original":{"line":164,"column":3},"generated":{"line":1,"column":2077}},{"source":"message.js","name":"opt","original":{"line":164,"column":22},"generated":{"line":1,"column":2095}},{"source":"message.js","name":"onFileUploadError","original":{"line":164,"column":26},"generated":{"line":1,"column":2097}},{"source":"message.js","name":"onFileUploadComplete","original":{"line":165,"column":3},"generated":{"line":1,"column":2115}},{"source":"message.js","name":"opt","original":{"line":165,"column":25},"generated":{"line":1,"column":2136}},{"source":"message.js","name":"onFileUploadComplete","original":{"line":165,"column":29},"generated":{"line":1,"column":2138}},{"source":"message.js","name":"success","original":{"line":166,"column":3},"generated":{"line":1,"column":2159}},{"source":"message.js","name":"opt","original":{"line":166,"column":12},"generated":{"line":1,"column":2167}},{"source":"message.js","name":"success","original":{"line":166,"column":16},"generated":{"line":1,"column":2169}},{"source":"message.js","name":"fail","original":{"line":167,"column":3},"generated":{"line":1,"column":2177}},{"source":"message.js","name":"opt","original":{"line":167,"column":9},"generated":{"line":1,"column":2182}},{"source":"message.js","name":"fail","original":{"line":167,"column":13},"generated":{"line":1,"column":2184}},{"source":"message.js","name":"flashUpload","original":{"line":168,"column":3},"generated":{"line":1,"column":2189}},{"source":"message.js","name":"opt","original":{"line":168,"column":16},"generated":{"line":1,"column":2201}},{"source":"message.js","name":"flashUpload","original":{"line":168,"column":20},"generated":{"line":1,"column":2203}},{"source":"message.js","name":"body","original":{"line":169,"column":3},"generated":{"line":1,"column":2215}},{"source":"message.js","name":"opt","original":{"line":169,"column":9},"generated":{"line":1,"column":2220}},{"source":"message.js","name":"body","original":{"line":169,"column":13},"generated":{"line":1,"column":2222}},{"source":"message.js","name":"opt","original":{"line":171,"column":3},"generated":{"line":1,"column":2229}},{"source":"message.js","name":"roomType","original":{"line":171,"column":7},"generated":{"line":1,"column":2231}},{"source":"message.js","original":{"line":171,"column":26},"generated":{"line":1,"column":2248}},{"source":"message.js","name":"body","original":{"line":171,"column":31},"generated":{"line":1,"column":2253}},{"source":"message.js","name":"roomType","original":{"line":171,"column":36},"generated":{"line":1,"column":2258}},{"source":"message.js","name":"Message","original":{"line":177,"column":1},"generated":{"line":1,"column":2269}},{"source":"message.js","name":"file","original":{"line":177,"column":9},"generated":{"line":1,"column":2271}},{"source":"message.js","original":{"line":177,"column":16},"generated":{"line":1,"column":2276}},{"source":"message.js","name":"id","original":{"line":177,"column":25},"generated":{"line":1,"column":2285}},{"source":"message.js","name":"id","original":{"line":178,"column":7},"generated":{"line":1,"column":2288}},{"source":"message.js","name":"id","original":{"line":178,"column":7},"generated":{"line":1,"column":2293}},{"source":"message.js","name":"id","original":{"line":178,"column":12},"generated":{"line":1,"column":2296}},{"source":"message.js","name":"type","original":{"line":179,"column":7},"generated":{"line":1,"column":2298}},{"source":"message.js","name":"type","original":{"line":179,"column":7},"generated":{"line":1,"column":2303}},{"source":"message.js","original":{"line":179,"column":14},"generated":{"line":1,"column":2308}},{"source":"message.js","name":"body","original":{"line":180,"column":7},"generated":{"line":1,"column":2315}},{"source":"message.js","name":"body","original":{"line":180,"column":7},"generated":{"line":1,"column":2320}},{"source":"message.js","original":{"line":180,"column":14},"generated":{"line":1,"column":2325}},{"source":"message.js","name":"prototype","original":{"line":182,"column":14},"generated":{"line":1,"column":2330}},{"source":"message.js","name":"set","original":{"line":182,"column":24},"generated":{"line":1,"column":2340}},{"source":"message.js","original":{"line":182,"column":30},"generated":{"line":1,"column":2344}},{"source":"message.js","name":"opt","original":{"line":182,"column":39},"generated":{"line":1,"column":2353}},{"source":"message.js","name":"opt","original":{"line":183,"column":2},"generated":{"line":1,"column":2356}},{"source":"message.js","name":"file","original":{"line":183,"column":6},"generated":{"line":1,"column":2358}},{"source":"message.js","name":"opt","original":{"line":183,"column":13},"generated":{"line":1,"column":2363}},{"source":"message.js","name":"file","original":{"line":183,"column":17},"generated":{"line":1,"column":2365}},{"source":"message.js","name":"_utils","original":{"line":183,"column":25},"generated":{"line":1,"column":2371}},{"source":"message.js","name":"getFileUrl","original":{"line":183,"column":32},"generated":{"line":1,"column":2373}},{"source":"message.js","name":"opt","original":{"line":183,"column":43},"generated":{"line":1,"column":2384}},{"source":"message.js","name":"fileInputId","original":{"line":183,"column":47},"generated":{"line":1,"column":2386}},{"source":"message.js","name":"value","original":{"line":185,"column":7},"generated":{"line":1,"column":2399}},{"source":"message.js","name":"value","original":{"line":185,"column":7},"generated":{"line":1,"column":2404}},{"source":"message.js","name":"opt","original":{"line":185,"column":15},"generated":{"line":1,"column":2410}},{"source":"message.js","name":"file","original":{"line":185,"column":19},"generated":{"line":1,"column":2412}},{"source":"message.js","name":"filename","original":{"line":186,"column":7},"generated":{"line":1,"column":2417}},{"source":"message.js","name":"filename","original":{"line":186,"column":7},"generated":{"line":1,"column":2422}},{"source":"message.js","name":"opt","original":{"line":186,"column":18},"generated":{"line":1,"column":2431}},{"source":"message.js","name":"filename","original":{"line":186,"column":22},"generated":{"line":1,"column":2433}},{"source":"message.js","original":{"line":186,"column":34},"generated":{"line":1,"column":2443}},{"source":"message.js","name":"value","original":{"line":186,"column":39},"generated":{"line":1,"column":2448}},{"source":"message.js","name":"filename","original":{"line":186,"column":45},"generated":{"line":1,"column":2454}},{"source":"message.js","name":"body","original":{"line":188,"column":7},"generated":{"line":1,"column":2463}},{"source":"message.js","name":"body","original":{"line":188,"column":7},"generated":{"line":1,"column":2468}},{"source":"message.js","original":{"line":188,"column":14},"generated":{"line":1,"column":2473}},{"source":"message.js","name":"id","original":{"line":189,"column":3},"generated":{"line":1,"column":2474}},{"source":"message.js","original":{"line":189,"column":7},"generated":{"line":1,"column":2477}},{"source":"message.js","name":"id","original":{"line":189,"column":12},"generated":{"line":1,"column":2482}},{"source":"message.js","name":"file","original":{"line":190,"column":3},"generated":{"line":1,"column":2485}},{"source":"message.js","original":{"line":190,"column":9},"generated":{"line":1,"column":2490}},{"source":"message.js","name":"value","original":{"line":190,"column":14},"generated":{"line":1,"column":2495}},{"source":"message.js","name":"filename","original":{"line":191,"column":3},"generated":{"line":1,"column":2501}},{"source":"message.js","original":{"line":191,"column":13},"generated":{"line":1,"column":2510}},{"source":"message.js","name":"filename","original":{"line":191,"column":18},"generated":{"line":1,"column":2515}},{"source":"message.js","name":"apiUrl","original":{"line":192,"column":3},"generated":{"line":1,"column":2524}},{"source":"message.js","name":"opt","original":{"line":192,"column":11},"generated":{"line":1,"column":2531}},{"source":"message.js","name":"apiUrl","original":{"line":192,"column":15},"generated":{"line":1,"column":2533}},{"source":"message.js","name":"to","original":{"line":193,"column":3},"generated":{"line":1,"column":2540}},{"source":"message.js","name":"opt","original":{"line":193,"column":7},"generated":{"line":1,"column":2543}},{"source":"message.js","name":"to","original":{"line":193,"column":11},"generated":{"line":1,"column":2545}},{"source":"message.js","name":"from","original":{"line":194,"column":3},"generated":{"line":1,"column":2548}},{"source":"message.js","name":"opt","original":{"line":194,"column":9},"generated":{"line":1,"column":2553}},{"source":"message.js","name":"from","original":{"line":194,"column":13},"generated":{"line":1,"column":2555}},{"source":"message.js","name":"type","original":{"line":195,"column":3},"generated":{"line":1,"column":2560}},{"source":"message.js","original":{"line":195,"column":9},"generated":{"line":1,"column":2565}},{"source":"message.js","name":"type","original":{"line":195,"column":14},"generated":{"line":1,"column":2570}},{"source":"message.js","name":"ext","original":{"line":196,"column":3},"generated":{"line":1,"column":2575}},{"source":"message.js","name":"opt","original":{"line":196,"column":8},"generated":{"line":1,"column":2579}},{"source":"message.js","name":"ext","original":{"line":196,"column":12},"generated":{"line":1,"column":2581}},{"source":"message.js","original":{"line":196,"column":19},"generated":{"line":1,"column":2586}},{"source":"message.js","name":"roomType","original":{"line":197,"column":3},"generated":{"line":1,"column":2589}},{"source":"message.js","name":"opt","original":{"line":197,"column":13},"generated":{"line":1,"column":2598}},{"source":"message.js","name":"roomType","original":{"line":197,"column":17},"generated":{"line":1,"column":2600}},{"source":"message.js","name":"onFileUploadError","original":{"line":198,"column":3},"generated":{"line":1,"column":2609}},{"source":"message.js","name":"opt","original":{"line":198,"column":22},"generated":{"line":1,"column":2627}},{"source":"message.js","name":"onFileUploadError","original":{"line":198,"column":26},"generated":{"line":1,"column":2629}},{"source":"message.js","name":"onFileUploadComplete","original":{"line":199,"column":3},"generated":{"line":1,"column":2647}},{"source":"message.js","name":"opt","original":{"line":199,"column":25},"generated":{"line":1,"column":2668}},{"source":"message.js","name":"onFileUploadComplete","original":{"line":199,"column":29},"generated":{"line":1,"column":2670}},{"source":"message.js","name":"success","original":{"line":200,"column":3},"generated":{"line":1,"column":2691}},{"source":"message.js","name":"opt","original":{"line":200,"column":12},"generated":{"line":1,"column":2699}},{"source":"message.js","name":"success","original":{"line":200,"column":16},"generated":{"line":1,"column":2701}},{"source":"message.js","name":"fail","original":{"line":201,"column":3},"generated":{"line":1,"column":2709}},{"source":"message.js","name":"opt","original":{"line":201,"column":9},"generated":{"line":1,"column":2714}},{"source":"message.js","name":"fail","original":{"line":201,"column":13},"generated":{"line":1,"column":2716}},{"source":"message.js","name":"flashUpload","original":{"line":202,"column":3},"generated":{"line":1,"column":2721}},{"source":"message.js","name":"opt","original":{"line":202,"column":16},"generated":{"line":1,"column":2733}},{"source":"message.js","name":"flashUpload","original":{"line":202,"column":20},"generated":{"line":1,"column":2735}},{"source":"message.js","name":"body","original":{"line":203,"column":3},"generated":{"line":1,"column":2747}},{"source":"message.js","name":"opt","original":{"line":203,"column":9},"generated":{"line":1,"column":2752}},{"source":"message.js","name":"body","original":{"line":203,"column":13},"generated":{"line":1,"column":2754}},{"source":"message.js","name":"opt","original":{"line":205,"column":3},"generated":{"line":1,"column":2761}},{"source":"message.js","name":"roomType","original":{"line":205,"column":7},"generated":{"line":1,"column":2763}},{"source":"message.js","original":{"line":205,"column":26},"generated":{"line":1,"column":2780}},{"source":"message.js","name":"body","original":{"line":205,"column":31},"generated":{"line":1,"column":2785}},{"source":"message.js","name":"roomType","original":{"line":205,"column":36},"generated":{"line":1,"column":2790}},{"source":"message.js","name":"Message","original":{"line":211,"column":1},"generated":{"line":1,"column":2801}},{"source":"message.js","name":"video","original":{"line":211,"column":9},"generated":{"line":1,"column":2803}},{"source":"message.js","original":{"line":211,"column":17},"generated":{"line":1,"column":2809}},{"source":"message.js","name":"id","original":{"line":211,"column":26},"generated":{"line":1,"column":2818}},{"source":"message.js","name":"id","original":{"line":212,"column":7},"generated":{"line":1,"column":2821}},{"source":"message.js","name":"id","original":{"line":212,"column":7},"generated":{"line":1,"column":2826}},{"source":"message.js","name":"id","original":{"line":212,"column":12},"generated":{"line":1,"column":2829}},{"source":"message.js","name":"type","original":{"line":213,"column":7},"generated":{"line":1,"column":2831}},{"source":"message.js","name":"type","original":{"line":213,"column":7},"generated":{"line":1,"column":2836}},{"source":"message.js","original":{"line":213,"column":14},"generated":{"line":1,"column":2841}},{"source":"message.js","name":"body","original":{"line":214,"column":7},"generated":{"line":1,"column":2848}},{"source":"message.js","name":"body","original":{"line":214,"column":7},"generated":{"line":1,"column":2853}},{"source":"message.js","original":{"line":214,"column":14},"generated":{"line":1,"column":2858}},{"source":"message.js","name":"prototype","original":{"line":216,"column":15},"generated":{"line":1,"column":2863}},{"source":"message.js","name":"set","original":{"line":216,"column":25},"generated":{"line":1,"column":2873}},{"source":"message.js","original":{"line":216,"column":31},"generated":{"line":1,"column":2877}},{"source":"message.js","name":"opt","original":{"line":216,"column":40},"generated":{"line":1,"column":2886}},{"source":"message.js","name":"opt","original":{"line":217,"column":2},"generated":{"line":1,"column":2889}},{"source":"message.js","name":"file","original":{"line":217,"column":6},"generated":{"line":1,"column":2891}},{"source":"message.js","name":"opt","original":{"line":217,"column":13},"generated":{"line":1,"column":2896}},{"source":"message.js","name":"file","original":{"line":217,"column":17},"generated":{"line":1,"column":2898}},{"source":"message.js","name":"_utils","original":{"line":217,"column":25},"generated":{"line":1,"column":2904}},{"source":"message.js","name":"getFileUrl","original":{"line":217,"column":32},"generated":{"line":1,"column":2906}},{"source":"message.js","name":"opt","original":{"line":217,"column":43},"generated":{"line":1,"column":2917}},{"source":"message.js","name":"fileInputId","original":{"line":217,"column":47},"generated":{"line":1,"column":2919}},{"source":"message.js","name":"value","original":{"line":219,"column":7},"generated":{"line":1,"column":2932}},{"source":"message.js","name":"value","original":{"line":219,"column":7},"generated":{"line":1,"column":2937}},{"source":"message.js","name":"opt","original":{"line":219,"column":15},"generated":{"line":1,"column":2943}},{"source":"message.js","name":"file","original":{"line":219,"column":19},"generated":{"line":1,"column":2945}},{"source":"message.js","name":"filename","original":{"line":220,"column":7},"generated":{"line":1,"column":2950}},{"source":"message.js","name":"filename","original":{"line":220,"column":7},"generated":{"line":1,"column":2955}},{"source":"message.js","name":"opt","original":{"line":220,"column":18},"generated":{"line":1,"column":2964}},{"source":"message.js","name":"filename","original":{"line":220,"column":22},"generated":{"line":1,"column":2966}},{"source":"message.js","original":{"line":220,"column":34},"generated":{"line":1,"column":2976}},{"source":"message.js","name":"value","original":{"line":220,"column":39},"generated":{"line":1,"column":2981}},{"source":"message.js","name":"filename","original":{"line":220,"column":45},"generated":{"line":1,"column":2987}},{"source":"message.js","name":"body","original":{"line":222,"column":7},"generated":{"line":1,"column":2996}},{"source":"message.js","name":"body","original":{"line":222,"column":7},"generated":{"line":1,"column":3001}},{"source":"message.js","original":{"line":222,"column":14},"generated":{"line":1,"column":3006}},{"source":"message.js","name":"id","original":{"line":223,"column":3},"generated":{"line":1,"column":3007}},{"source":"message.js","original":{"line":223,"column":7},"generated":{"line":1,"column":3010}},{"source":"message.js","name":"id","original":{"line":223,"column":12},"generated":{"line":1,"column":3015}},{"source":"message.js","name":"file","original":{"line":224,"column":3},"generated":{"line":1,"column":3018}},{"source":"message.js","original":{"line":224,"column":9},"generated":{"line":1,"column":3023}},{"source":"message.js","name":"value","original":{"line":224,"column":14},"generated":{"line":1,"column":3028}},{"source":"message.js","name":"filename","original":{"line":225,"column":3},"generated":{"line":1,"column":3034}},{"source":"message.js","original":{"line":225,"column":13},"generated":{"line":1,"column":3043}},{"source":"message.js","name":"filename","original":{"line":225,"column":18},"generated":{"line":1,"column":3048}},{"source":"message.js","name":"apiUrl","original":{"line":226,"column":3},"generated":{"line":1,"column":3057}},{"source":"message.js","name":"opt","original":{"line":226,"column":11},"generated":{"line":1,"column":3064}},{"source":"message.js","name":"apiUrl","original":{"line":226,"column":15},"generated":{"line":1,"column":3066}},{"source":"message.js","name":"to","original":{"line":227,"column":3},"generated":{"line":1,"column":3073}},{"source":"message.js","name":"opt","original":{"line":227,"column":7},"generated":{"line":1,"column":3076}},{"source":"message.js","name":"to","original":{"line":227,"column":11},"generated":{"line":1,"column":3078}},{"source":"message.js","name":"from","original":{"line":228,"column":3},"generated":{"line":1,"column":3081}},{"source":"message.js","name":"opt","original":{"line":228,"column":9},"generated":{"line":1,"column":3086}},{"source":"message.js","name":"from","original":{"line":228,"column":13},"generated":{"line":1,"column":3088}},{"source":"message.js","name":"type","original":{"line":229,"column":3},"generated":{"line":1,"column":3093}},{"source":"message.js","original":{"line":229,"column":9},"generated":{"line":1,"column":3098}},{"source":"message.js","name":"type","original":{"line":229,"column":14},"generated":{"line":1,"column":3103}},{"source":"message.js","name":"ext","original":{"line":230,"column":3},"generated":{"line":1,"column":3108}},{"source":"message.js","name":"opt","original":{"line":230,"column":8},"generated":{"line":1,"column":3112}},{"source":"message.js","name":"ext","original":{"line":230,"column":12},"generated":{"line":1,"column":3114}},{"source":"message.js","original":{"line":230,"column":19},"generated":{"line":1,"column":3119}},{"source":"message.js","name":"roomType","original":{"line":231,"column":3},"generated":{"line":1,"column":3122}},{"source":"message.js","name":"opt","original":{"line":231,"column":13},"generated":{"line":1,"column":3131}},{"source":"message.js","name":"roomType","original":{"line":231,"column":17},"generated":{"line":1,"column":3133}},{"source":"message.js","name":"onFileUploadError","original":{"line":232,"column":3},"generated":{"line":1,"column":3142}},{"source":"message.js","name":"opt","original":{"line":232,"column":22},"generated":{"line":1,"column":3160}},{"source":"message.js","name":"onFileUploadError","original":{"line":232,"column":26},"generated":{"line":1,"column":3162}},{"source":"message.js","name":"onFileUploadComplete","original":{"line":233,"column":3},"generated":{"line":1,"column":3180}},{"source":"message.js","name":"opt","original":{"line":233,"column":25},"generated":{"line":1,"column":3201}},{"source":"message.js","name":"onFileUploadComplete","original":{"line":233,"column":29},"generated":{"line":1,"column":3203}},{"source":"message.js","name":"success","original":{"line":234,"column":3},"generated":{"line":1,"column":3224}},{"source":"message.js","name":"opt","original":{"line":234,"column":12},"generated":{"line":1,"column":3232}},{"source":"message.js","name":"success","original":{"line":234,"column":16},"generated":{"line":1,"column":3234}},{"source":"message.js","name":"fail","original":{"line":235,"column":3},"generated":{"line":1,"column":3242}},{"source":"message.js","name":"opt","original":{"line":235,"column":9},"generated":{"line":1,"column":3247}},{"source":"message.js","name":"fail","original":{"line":235,"column":13},"generated":{"line":1,"column":3249}},{"source":"message.js","name":"flashUpload","original":{"line":236,"column":3},"generated":{"line":1,"column":3254}},{"source":"message.js","name":"opt","original":{"line":236,"column":16},"generated":{"line":1,"column":3266}},{"source":"message.js","name":"flashUpload","original":{"line":236,"column":20},"generated":{"line":1,"column":3268}},{"source":"message.js","name":"body","original":{"line":237,"column":3},"generated":{"line":1,"column":3280}},{"source":"message.js","name":"opt","original":{"line":237,"column":9},"generated":{"line":1,"column":3285}},{"source":"message.js","name":"body","original":{"line":237,"column":13},"generated":{"line":1,"column":3287}},{"source":"message.js","name":"opt","original":{"line":239,"column":3},"generated":{"line":1,"column":3294}},{"source":"message.js","name":"roomType","original":{"line":239,"column":7},"generated":{"line":1,"column":3296}},{"source":"message.js","original":{"line":239,"column":26},"generated":{"line":1,"column":3313}},{"source":"message.js","name":"body","original":{"line":239,"column":31},"generated":{"line":1,"column":3318}},{"source":"message.js","name":"roomType","original":{"line":239,"column":36},"generated":{"line":1,"column":3323}},{"source":"message.js","name":"_Message","original":{"line":251,"column":1},"generated":{"line":1,"column":3333}},{"source":"message.js","name":"prototype","original":{"line":251,"column":10},"generated":{"line":1,"column":3335}},{"source":"message.js","name":"send","original":{"line":251,"column":20},"generated":{"line":1,"column":3345}},{"source":"message.js","original":{"line":251,"column":27},"generated":{"line":1,"column":3350}},{"source":"message.js","name":"conn","original":{"line":251,"column":36},"generated":{"line":1,"column":3359}},{"source":"message.js","name":"me","original":{"line":252,"column":6},"generated":{"line":1,"column":3362}},{"source":"message.js","name":"me","original":{"line":252,"column":6},"generated":{"line":1,"column":3366}},{"source":"message.js","original":{"line":252,"column":11},"generated":{"line":1,"column":3368}},{"source":"message.js","name":"_send","original":{"line":253,"column":6},"generated":{"line":1,"column":3373}},{"source":"message.js","original":{"line":253,"column":14},"generated":{"line":1,"column":3375}},{"source":"message.js","name":"message","original":{"line":253,"column":23},"generated":{"line":1,"column":3384}},{"source":"message.js","name":"message","original":{"line":254,"column":3},"generated":{"line":1,"column":3387}},{"source":"message.js","name":"ext","original":{"line":254,"column":11},"generated":{"line":1,"column":3389}},{"source":"message.js","name":"message","original":{"line":254,"column":17},"generated":{"line":1,"column":3393}},{"source":"message.js","name":"ext","original":{"line":254,"column":25},"generated":{"line":1,"column":3395}},{"source":"message.js","original":{"line":254,"column":32},"generated":{"line":1,"column":3400}},{"source":"message.js","name":"message","original":{"line":255,"column":3},"generated":{"line":1,"column":3403}},{"source":"message.js","name":"ext","original":{"line":255,"column":11},"generated":{"line":1,"column":3405}},{"source":"message.js","name":"weichat","original":{"line":255,"column":15},"generated":{"line":1,"column":3409}},{"source":"message.js","name":"message","original":{"line":255,"column":25},"generated":{"line":1,"column":3417}},{"source":"message.js","name":"ext","original":{"line":255,"column":33},"generated":{"line":1,"column":3419}},{"source":"message.js","name":"weichat","original":{"line":255,"column":37},"generated":{"line":1,"column":3423}},{"source":"message.js","original":{"line":255,"column":48},"generated":{"line":1,"column":3432}},{"source":"message.js","name":"message","original":{"line":256,"column":3},"generated":{"line":1,"column":3435}},{"source":"message.js","name":"ext","original":{"line":256,"column":11},"generated":{"line":1,"column":3437}},{"source":"message.js","name":"weichat","original":{"line":256,"column":15},"generated":{"line":1,"column":3441}},{"source":"message.js","name":"originType","original":{"line":256,"column":23},"generated":{"line":1,"column":3449}},{"source":"message.js","name":"message","original":{"line":256,"column":36},"generated":{"line":1,"column":3460}},{"source":"message.js","name":"ext","original":{"line":256,"column":44},"generated":{"line":1,"column":3462}},{"source":"message.js","name":"weichat","original":{"line":256,"column":48},"generated":{"line":1,"column":3466}},{"source":"message.js","name":"originType","original":{"line":256,"column":56},"generated":{"line":1,"column":3474}},{"source":"message.js","original":{"line":256,"column":70},"generated":{"line":1,"column":3486}},{"source":"message.js","name":"json","original":{"line":257,"column":7},"generated":{"line":1,"column":3494}},{"source":"message.js","name":"json","original":{"line":257,"column":7},"generated":{"line":1,"column":3498}},{"source":"message.js","original":{"line":257,"column":14},"generated":{"line":1,"column":3500}},{"source":"message.js","name":"from","original":{"line":258,"column":4},"generated":{"line":1,"column":3501}},{"source":"message.js","name":"conn","original":{"line":258,"column":10},"generated":{"line":1,"column":3506}},{"source":"message.js","name":"context","original":{"line":258,"column":15},"generated":{"line":1,"column":3508}},{"source":"message.js","name":"userId","original":{"line":258,"column":23},"generated":{"line":1,"column":3516}},{"source":"message.js","original":{"line":258,"column":33},"generated":{"line":1,"column":3524}},{"source":"message.js","name":"to","original":{"line":259,"column":4},"generated":{"line":1,"column":3527}},{"source":"message.js","name":"message","original":{"line":259,"column":8},"generated":{"line":1,"column":3530}},{"source":"message.js","name":"to","original":{"line":259,"column":16},"generated":{"line":1,"column":3532}},{"source":"message.js","name":"bodies","original":{"line":260,"column":4},"generated":{"line":1,"column":3535}},{"source":"message.js","original":{"line":260,"column":12},"generated":{"line":1,"column":3542}},{"source":"message.js","name":"message","original":{"line":260,"column":13},"generated":{"line":1,"column":3543}},{"source":"message.js","name":"body","original":{"line":260,"column":21},"generated":{"line":1,"column":3545}},{"source":"message.js","name":"ext","original":{"line":261,"column":4},"generated":{"line":1,"column":3551}},{"source":"message.js","name":"message","original":{"line":261,"column":9},"generated":{"line":1,"column":3555}},{"source":"message.js","name":"ext","original":{"line":261,"column":17},"generated":{"line":1,"column":3557}},{"source":"message.js","original":{"line":261,"column":24},"generated":{"line":1,"column":3562}},{"source":"message.js","name":"jsonstr","original":{"line":263,"column":7},"generated":{"line":1,"column":3566}},{"source":"message.js","name":"_utils","original":{"line":263,"column":17},"generated":{"line":1,"column":3568}},{"source":"message.js","name":"stringify","original":{"line":263,"column":24},"generated":{"line":1,"column":3570}},{"source":"message.js","name":"json","original":{"line":263,"column":34},"generated":{"line":1,"column":3580}},{"source":"message.js","name":"dom","original":{"line":264,"column":7},"generated":{"line":1,"column":3583}},{"source":"message.js","name":"StropheAll","original":{"line":264,"column":13},"generated":{"line":1,"column":3585}},{"source":"message.js","name":"$msg","original":{"line":265,"column":4},"generated":{"line":1,"column":3587}},{"source":"message.js","original":{"line":265,"column":9},"generated":{"line":1,"column":3592}},{"source":"message.js","name":"type","original":{"line":266,"column":4},"generated":{"line":1,"column":3593}},{"source":"message.js","name":"message","original":{"line":266,"column":10},"generated":{"line":1,"column":3598}},{"source":"message.js","name":"group","original":{"line":266,"column":18},"generated":{"line":1,"column":3600}},{"source":"message.js","original":{"line":266,"column":27},"generated":{"line":1,"column":3607}},{"source":"message.js","name":"to","original":{"line":267,"column":4},"generated":{"line":1,"column":3614}},{"source":"message.js","name":"message","original":{"line":267,"column":8},"generated":{"line":1,"column":3617}},{"source":"message.js","name":"toJid","original":{"line":267,"column":16},"generated":{"line":1,"column":3619}},{"source":"message.js","name":"id","original":{"line":268,"column":4},"generated":{"line":1,"column":3625}},{"source":"message.js","name":"message","original":{"line":268,"column":8},"generated":{"line":1,"column":3628}},{"source":"message.js","name":"id","original":{"line":268,"column":16},"generated":{"line":1,"column":3630}},{"source":"message.js","name":"xmlns","original":{"line":269,"column":4},"generated":{"line":1,"column":3633}},{"source":"message.js","original":{"line":269,"column":11},"generated":{"line":1,"column":3639}},{"source":"message.js","name":"c","original":{"line":271,"column":4},"generated":{"line":1,"column":3657}},{"source":"message.js","original":{"line":271,"column":6},"generated":{"line":1,"column":3659}},{"source":"message.js","name":"t","original":{"line":272,"column":4},"generated":{"line":1,"column":3667}},{"source":"message.js","name":"jsonstr","original":{"line":272,"column":6},"generated":{"line":1,"column":3669}},{"source":"message.js","name":"message","original":{"line":282,"column":6},"generated":{"line":1,"column":3672}},{"source":"message.js","name":"message","original":{"line":274,"column":6},"generated":{"line":1,"column":3675}},{"source":"message.js","name":"roomType","original":{"line":274,"column":14},"generated":{"line":1,"column":3677}},{"source":"message.js","name":"dom","original":{"line":275,"column":4},"generated":{"line":1,"column":3687}},{"source":"message.js","name":"up","original":{"line":276,"column":5},"generated":{"line":1,"column":3689}},{"source":"message.js","name":"c","original":{"line":277,"column":5},"generated":{"line":1,"column":3694}},{"source":"message.js","original":{"line":277,"column":7},"generated":{"line":1,"column":3696}},{"source":"message.js","original":{"line":277,"column":19},"generated":{"line":1,"column":3707}},{"source":"message.js","name":"xmlns","original":{"line":278,"column":5},"generated":{"line":1,"column":3708}},{"source":"message.js","original":{"line":278,"column":12},"generated":{"line":1,"column":3714}},{"source":"message.js","name":"type","original":{"line":279,"column":5},"generated":{"line":1,"column":3735}},{"source":"message.js","original":{"line":279,"column":11},"generated":{"line":1,"column":3740}},{"source":"message.js","name":"message","original":{"line":282,"column":6},"generated":{"line":1,"column":3753}},{"source":"message.js","name":"bodyId","original":{"line":282,"column":14},"generated":{"line":1,"column":3755}},{"source":"message.js","original":{"line":282,"column":21},"generated":{"line":1,"column":3762}},{"source":"message.js","name":"dom","original":{"line":283,"column":4},"generated":{"line":1,"column":3763}},{"source":"message.js","name":"StropheAll","original":{"line":283,"column":10},"generated":{"line":1,"column":3765}},{"source":"message.js","name":"$msg","original":{"line":284,"column":5},"generated":{"line":1,"column":3767}},{"source":"message.js","original":{"line":284,"column":10},"generated":{"line":1,"column":3772}},{"source":"message.js","name":"from","original":{"line":285,"column":5},"generated":{"line":1,"column":3773}},{"source":"message.js","name":"conn","original":{"line":285,"column":11},"generated":{"line":1,"column":3778}},{"source":"message.js","name":"context","original":{"line":285,"column":16},"generated":{"line":1,"column":3780}},{"source":"message.js","name":"jid","original":{"line":285,"column":24},"generated":{"line":1,"column":3788}},{"source":"message.js","original":{"line":285,"column":31},"generated":{"line":1,"column":3793}},{"source":"message.js","name":"to","original":{"line":286,"column":5},"generated":{"line":1,"column":3796}},{"source":"message.js","name":"message","original":{"line":286,"column":9},"generated":{"line":1,"column":3799}},{"source":"message.js","name":"toJid","original":{"line":286,"column":17},"generated":{"line":1,"column":3801}},{"source":"message.js","name":"id","original":{"line":287,"column":5},"generated":{"line":1,"column":3807}},{"source":"message.js","name":"message","original":{"line":287,"column":9},"generated":{"line":1,"column":3810}},{"source":"message.js","name":"id","original":{"line":287,"column":17},"generated":{"line":1,"column":3812}},{"source":"message.js","name":"xmlns","original":{"line":288,"column":5},"generated":{"line":1,"column":3815}},{"source":"message.js","original":{"line":288,"column":12},"generated":{"line":1,"column":3821}},{"source":"message.js","name":"c","original":{"line":290,"column":5},"generated":{"line":1,"column":3839}},{"source":"message.js","original":{"line":290,"column":7},"generated":{"line":1,"column":3841}},{"source":"message.js","name":"t","original":{"line":291,"column":5},"generated":{"line":1,"column":3849}},{"source":"message.js","name":"message","original":{"line":291,"column":7},"generated":{"line":1,"column":3851}},{"source":"message.js","name":"bodyId","original":{"line":291,"column":15},"generated":{"line":1,"column":3853}},{"source":"message.js","name":"delivery","original":{"line":293,"column":8},"generated":{"line":1,"column":3861}},{"source":"message.js","name":"delivery","original":{"line":293,"column":8},"generated":{"line":1,"column":3865}},{"source":"message.js","original":{"line":293,"column":19},"generated":{"line":1,"column":3867}},{"source":"message.js","name":"xmlns","original":{"line":294,"column":5},"generated":{"line":1,"column":3868}},{"source":"message.js","original":{"line":294,"column":12},"generated":{"line":1,"column":3874}},{"source":"message.js","name":"id","original":{"line":295,"column":5},"generated":{"line":1,"column":3894}},{"source":"message.js","name":"message","original":{"line":295,"column":9},"generated":{"line":1,"column":3897}},{"source":"message.js","name":"bodyId","original":{"line":295,"column":17},"generated":{"line":1,"column":3899}},{"source":"message.js","name":"dom","original":{"line":297,"column":4},"generated":{"line":1,"column":3907}},{"source":"message.js","name":"up","original":{"line":297,"column":8},"generated":{"line":1,"column":3909}},{"source":"message.js","name":"c","original":{"line":297,"column":13},"generated":{"line":1,"column":3914}},{"source":"message.js","original":{"line":297,"column":15},"generated":{"line":1,"column":3916}},{"source":"message.js","name":"delivery","original":{"line":297,"column":27},"generated":{"line":1,"column":3927}},{"source":"message.js","name":"message","original":{"line":300,"column":6},"generated":{"line":1,"column":3930}},{"source":"message.js","name":"message","original":{"line":300,"column":6},"generated":{"line":1,"column":3933}},{"source":"message.js","name":"ackId","original":{"line":300,"column":14},"generated":{"line":1,"column":3935}},{"source":"message.js","original":{"line":300,"column":20},"generated":{"line":1,"column":3941}},{"source":"message.js","name":"conn","original":{"line":302,"column":7},"generated":{"line":1,"column":3942}},{"source":"message.js","name":"conn","original":{"line":302,"column":7},"generated":{"line":1,"column":3945}},{"source":"message.js","name":"context","original":{"line":302,"column":12},"generated":{"line":1,"column":3947}},{"source":"message.js","name":"jid","original":{"line":302,"column":20},"generated":{"line":1,"column":3955}},{"source":"message.js","name":"indexOf","original":{"line":302,"column":24},"generated":{"line":1,"column":3959}},{"source":"message.js","name":"message","original":{"line":302,"column":32},"generated":{"line":1,"column":3967}},{"source":"message.js","name":"toJid","original":{"line":302,"column":40},"generated":{"line":1,"column":3969}},{"source":"message.js","original":{"line":302,"column":50},"generated":{"line":1,"column":3977}},{"source":"message.js","original":{"line":303,"column":5},"generated":{"line":1,"column":3979}},{"source":"message.js","name":"dom","original":{"line":305,"column":4},"generated":{"line":1,"column":3986}},{"source":"message.js","name":"StropheAll","original":{"line":305,"column":10},"generated":{"line":1,"column":3988}},{"source":"message.js","name":"$msg","original":{"line":305,"column":21},"generated":{"line":1,"column":3990}},{"source":"message.js","original":{"line":305,"column":26},"generated":{"line":1,"column":3995}},{"source":"message.js","name":"from","original":{"line":306,"column":5},"generated":{"line":1,"column":3996}},{"source":"message.js","name":"conn","original":{"line":306,"column":11},"generated":{"line":1,"column":4001}},{"source":"message.js","name":"context","original":{"line":306,"column":16},"generated":{"line":1,"column":4003}},{"source":"message.js","name":"jid","original":{"line":306,"column":24},"generated":{"line":1,"column":4011}},{"source":"message.js","original":{"line":306,"column":31},"generated":{"line":1,"column":4016}},{"source":"message.js","name":"to","original":{"line":307,"column":7},"generated":{"line":1,"column":4019}},{"source":"message.js","name":"message","original":{"line":307,"column":11},"generated":{"line":1,"column":4022}},{"source":"message.js","name":"toJid","original":{"line":307,"column":19},"generated":{"line":1,"column":4024}},{"source":"message.js","name":"id","original":{"line":308,"column":7},"generated":{"line":1,"column":4030}},{"source":"message.js","name":"message","original":{"line":308,"column":11},"generated":{"line":1,"column":4033}},{"source":"message.js","name":"id","original":{"line":308,"column":19},"generated":{"line":1,"column":4035}},{"source":"message.js","name":"xmlns","original":{"line":309,"column":7},"generated":{"line":1,"column":4038}},{"source":"message.js","original":{"line":309,"column":14},"generated":{"line":1,"column":4044}},{"source":"message.js","name":"c","original":{"line":310,"column":7},"generated":{"line":1,"column":4062}},{"source":"message.js","original":{"line":310,"column":9},"generated":{"line":1,"column":4064}},{"source":"message.js","name":"t","original":{"line":310,"column":17},"generated":{"line":1,"column":4072}},{"source":"message.js","name":"message","original":{"line":310,"column":19},"generated":{"line":1,"column":4074}},{"source":"message.js","name":"ackId","original":{"line":310,"column":27},"generated":{"line":1,"column":4076}},{"source":"message.js","name":"read","original":{"line":311,"column":8},"generated":{"line":1,"column":4083}},{"source":"message.js","name":"read","original":{"line":311,"column":8},"generated":{"line":1,"column":4087}},{"source":"message.js","original":{"line":311,"column":15},"generated":{"line":1,"column":4089}},{"source":"message.js","name":"xmlns","original":{"line":312,"column":5},"generated":{"line":1,"column":4090}},{"source":"message.js","original":{"line":312,"column":12},"generated":{"line":1,"column":4096}},{"source":"message.js","name":"id","original":{"line":313,"column":7},"generated":{"line":1,"column":4116}},{"source":"message.js","name":"message","original":{"line":313,"column":11},"generated":{"line":1,"column":4119}},{"source":"message.js","name":"ackId","original":{"line":313,"column":19},"generated":{"line":1,"column":4121}},{"source":"message.js","name":"dom","original":{"line":315,"column":4},"generated":{"line":1,"column":4128}},{"source":"message.js","name":"up","original":{"line":315,"column":8},"generated":{"line":1,"column":4130}},{"source":"message.js","name":"c","original":{"line":315,"column":13},"generated":{"line":1,"column":4135}},{"source":"message.js","original":{"line":315,"column":15},"generated":{"line":1,"column":4137}},{"source":"message.js","name":"read","original":{"line":315,"column":24},"generated":{"line":1,"column":4145}},{"source":"message.js","name":"conn","original":{"line":324,"column":3},"generated":{"line":1,"column":4148}},{"source":"message.js","name":"sendCommand","original":{"line":324,"column":8},"generated":{"line":1,"column":4150}},{"source":"message.js","name":"dom","original":{"line":324,"column":20},"generated":{"line":1,"column":4162}},{"source":"message.js","name":"tree","original":{"line":324,"column":24},"generated":{"line":1,"column":4164}},{"source":"message.js","name":"message","original":{"line":324,"column":32},"generated":{"line":1,"column":4171}},{"source":"message.js","name":"id","original":{"line":324,"column":40},"generated":{"line":1,"column":4173}},{"source":"message.js","name":"me","original":{"line":328,"column":5},"generated":{"line":1,"column":4178}},{"source":"message.js","name":"me","original":{"line":328,"column":5},"generated":{"line":1,"column":4181}},{"source":"message.js","name":"msg","original":{"line":328,"column":8},"generated":{"line":1,"column":4183}},{"source":"message.js","name":"file","original":{"line":328,"column":12},"generated":{"line":1,"column":4187}},{"source":"message.js","original":{"line":328,"column":17},"generated":{"line":1,"column":4192}},{"source":"message.js","name":"me","original":{"line":329,"column":6},"generated":{"line":1,"column":4193}},{"source":"message.js","name":"me","original":{"line":329,"column":6},"generated":{"line":1,"column":4196}},{"source":"message.js","name":"msg","original":{"line":329,"column":9},"generated":{"line":1,"column":4198}},{"source":"message.js","name":"body","original":{"line":329,"column":13},"generated":{"line":1,"column":4202}},{"source":"message.js","name":"me","original":{"line":329,"column":21},"generated":{"line":1,"column":4208}},{"source":"message.js","name":"msg","original":{"line":329,"column":24},"generated":{"line":1,"column":4210}},{"source":"message.js","name":"body","original":{"line":329,"column":28},"generated":{"line":1,"column":4214}},{"source":"message.js","name":"url","original":{"line":329,"column":33},"generated":{"line":1,"column":4219}},{"source":"message.js","original":{"line":331,"column":4},"generated":{"line":1,"column":4223}},{"source":"message.js","name":"_send","original":{"line":330,"column":4},"generated":{"line":1,"column":4235}},{"source":"message.js","name":"me","original":{"line":330,"column":10},"generated":{"line":1,"column":4237}},{"source":"message.js","name":"msg","original":{"line":330,"column":13},"generated":{"line":1,"column":4239}},{"source":"message.js","name":"_tmpComplete","original":{"line":333,"column":7},"generated":{"line":1,"column":4244}},{"source":"message.js","name":"_tmpComplete","original":{"line":333,"column":7},"generated":{"line":1,"column":4248}},{"source":"message.js","name":"me","original":{"line":333,"column":22},"generated":{"line":1,"column":4250}},{"source":"message.js","name":"msg","original":{"line":333,"column":25},"generated":{"line":1,"column":4252}},{"source":"message.js","name":"onFileUploadComplete","original":{"line":333,"column":29},"generated":{"line":1,"column":4256}},{"source":"message.js","name":"me","original":{"line":359,"column":3},"generated":{"line":1,"column":4277}},{"source":"message.js","name":"msg","original":{"line":359,"column":6},"generated":{"line":1,"column":4279}},{"source":"message.js","name":"onFileUploadComplete","original":{"line":359,"column":10},"generated":{"line":1,"column":4283}},{"source":"message.js","original":{"line":334,"column":19},"generated":{"line":1,"column":4304}},{"source":"message.js","name":"data","original":{"line":334,"column":28},"generated":{"line":1,"column":4313}},{"source":"message.js","name":"data","original":{"line":335,"column":7},"generated":{"line":1,"column":4316}},{"source":"message.js","name":"data","original":{"line":335,"column":7},"generated":{"line":1,"column":4319}},{"source":"message.js","name":"entities","original":{"line":335,"column":12},"generated":{"line":1,"column":4321}},{"source":"message.js","original":{"line":335,"column":21},"generated":{"line":1,"column":4330}},{"source":"message.js","original":{"line":335,"column":24},"generated":{"line":1,"column":4333}},{"source":"message.js","original":{"line":335,"column":41},"generated":{"line":1,"column":4350}},{"source":"message.js","name":"file_len","original":{"line":336,"column":9},"generated":{"line":1,"column":4351}},{"source":"message.js","name":"file_len","original":{"line":336,"column":9},"generated":{"line":1,"column":4355}},{"source":"message.js","name":"data","original":{"line":336,"column":20},"generated":{"line":1,"column":4357}},{"source":"message.js","name":"entities","original":{"line":336,"column":25},"generated":{"line":1,"column":4359}},{"source":"message.js","original":{"line":336,"column":34},"generated":{"line":1,"column":4368}},{"source":"message.js","original":{"line":336,"column":37},"generated":{"line":1,"column":4371}},{"source":"message.js","original":{"line":336,"column":54},"generated":{"line":1,"column":4388}},{"source":"message.js","name":"me","original":{"line":337,"column":5},"generated":{"line":1,"column":4406}},{"source":"message.js","name":"msg","original":{"line":337,"column":8},"generated":{"line":1,"column":4408}},{"source":"message.js","name":"file_length","original":{"line":337,"column":12},"generated":{"line":1,"column":4412}},{"source":"message.js","name":"file_len","original":{"line":337,"column":26},"generated":{"line":1,"column":4424}},{"source":"message.js","name":"me","original":{"line":338,"column":5},"generated":{"line":1,"column":4426}},{"source":"message.js","name":"msg","original":{"line":338,"column":8},"generated":{"line":1,"column":4428}},{"source":"message.js","name":"filetype","original":{"line":338,"column":12},"generated":{"line":1,"column":4432}},{"source":"message.js","name":"data","original":{"line":338,"column":23},"generated":{"line":1,"column":4441}},{"source":"message.js","name":"entities","original":{"line":338,"column":28},"generated":{"line":1,"column":4443}},{"source":"message.js","original":{"line":338,"column":37},"generated":{"line":1,"column":4452}},{"source":"message.js","original":{"line":338,"column":40},"generated":{"line":1,"column":4455}},{"source":"message.js","original":{"line":338,"column":57},"generated":{"line":1,"column":4472}},{"source":"message.js","name":"file_len","original":{"line":339,"column":8},"generated":{"line":1,"column":4488}},{"source":"message.js","original":{"line":339,"column":19},"generated":{"line":1,"column":4490}},{"source":"message.js","name":"me","original":{"line":340,"column":6},"generated":{"line":1,"column":4499}},{"source":"message.js","name":"msg","original":{"line":340,"column":9},"generated":{"line":1,"column":4501}},{"source":"message.js","name":"thumbnail","original":{"line":340,"column":13},"generated":{"line":1,"column":4505}},{"source":"message.js","original":{"line":340,"column":25},"generated":{"line":1,"column":4516}},{"source":"message.js","name":"me","original":{"line":343,"column":4},"generated":{"line":1,"column":4519}},{"source":"message.js","name":"msg","original":{"line":343,"column":7},"generated":{"line":1,"column":4521}},{"source":"message.js","name":"body","original":{"line":343,"column":11},"generated":{"line":1,"column":4525}},{"source":"message.js","original":{"line":343,"column":18},"generated":{"line":1,"column":4530}},{"source":"message.js","name":"type","original":{"line":344,"column":5},"generated":{"line":1,"column":4531}},{"source":"message.js","name":"me","original":{"line":344,"column":11},"generated":{"line":1,"column":4536}},{"source":"message.js","name":"msg","original":{"line":344,"column":14},"generated":{"line":1,"column":4538}},{"source":"message.js","name":"type","original":{"line":344,"column":18},"generated":{"line":1,"column":4542}},{"source":"message.js","original":{"line":344,"column":26},"generated":{"line":1,"column":4548}},{"source":"message.js","name":"url","original":{"line":345,"column":5},"generated":{"line":1,"column":4555}},{"source":"message.js","name":"data","original":{"line":345,"column":10},"generated":{"line":1,"column":4559}},{"source":"message.js","name":"uri","original":{"line":345,"column":15},"generated":{"line":1,"column":4561}},{"source":"message.js","original":{"line":345,"column":21},"generated":{"line":1,"column":4565}},{"source":"message.js","name":"data","original":{"line":345,"column":27},"generated":{"line":1,"column":4569}},{"source":"message.js","name":"entities","original":{"line":345,"column":32},"generated":{"line":1,"column":4571}},{"source":"message.js","original":{"line":345,"column":41},"generated":{"line":1,"column":4580}},{"source":"message.js","name":"uuid","original":{"line":345,"column":44},"generated":{"line":1,"column":4583}},{"source":"message.js","name":"secret","original":{"line":346,"column":5},"generated":{"line":1,"column":4588}},{"source":"message.js","name":"data","original":{"line":346,"column":13},"generated":{"line":1,"column":4595}},{"source":"message.js","name":"entities","original":{"line":346,"column":18},"generated":{"line":1,"column":4597}},{"source":"message.js","original":{"line":346,"column":27},"generated":{"line":1,"column":4606}},{"source":"message.js","original":{"line":346,"column":30},"generated":{"line":1,"column":4609}},{"source":"message.js","name":"filename","original":{"line":347,"column":5},"generated":{"line":1,"column":4625}},{"source":"message.js","name":"me","original":{"line":347,"column":15},"generated":{"line":1,"column":4634}},{"source":"message.js","name":"msg","original":{"line":347,"column":18},"generated":{"line":1,"column":4636}},{"source":"message.js","name":"file","original":{"line":347,"column":22},"generated":{"line":1,"column":4640}},{"source":"message.js","name":"filename","original":{"line":347,"column":27},"generated":{"line":1,"column":4645}},{"source":"message.js","name":"me","original":{"line":347,"column":39},"generated":{"line":1,"column":4655}},{"source":"message.js","name":"msg","original":{"line":347,"column":42},"generated":{"line":1,"column":4657}},{"source":"message.js","name":"filename","original":{"line":347,"column":46},"generated":{"line":1,"column":4661}},{"source":"message.js","name":"size","original":{"line":348,"column":5},"generated":{"line":1,"column":4670}},{"source":"message.js","original":{"line":348,"column":11},"generated":{"line":1,"column":4675}},{"source":"message.js","name":"width","original":{"line":349,"column":6},"generated":{"line":1,"column":4676}},{"source":"message.js","name":"me","original":{"line":349,"column":13},"generated":{"line":1,"column":4682}},{"source":"message.js","name":"msg","original":{"line":349,"column":16},"generated":{"line":1,"column":4684}},{"source":"message.js","name":"width","original":{"line":349,"column":20},"generated":{"line":1,"column":4688}},{"source":"message.js","original":{"line":349,"column":29},"generated":{"line":1,"column":4695}},{"source":"message.js","name":"height","original":{"line":350,"column":8},"generated":{"line":1,"column":4697}},{"source":"message.js","name":"me","original":{"line":350,"column":16},"generated":{"line":1,"column":4704}},{"source":"message.js","name":"msg","original":{"line":350,"column":19},"generated":{"line":1,"column":4706}},{"source":"message.js","name":"height","original":{"line":350,"column":23},"generated":{"line":1,"column":4710}},{"source":"message.js","original":{"line":350,"column":33},"generated":{"line":1,"column":4718}},{"source":"message.js","name":"length","original":{"line":352,"column":5},"generated":{"line":1,"column":4721}},{"source":"message.js","name":"me","original":{"line":352,"column":13},"generated":{"line":1,"column":4728}},{"source":"message.js","name":"msg","original":{"line":352,"column":16},"generated":{"line":1,"column":4730}},{"source":"message.js","name":"length","original":{"line":352,"column":20},"generated":{"line":1,"column":4734}},{"source":"message.js","original":{"line":352,"column":30},"generated":{"line":1,"column":4742}},{"source":"message.js","name":"file_length","original":{"line":353,"column":5},"generated":{"line":1,"column":4744}},{"source":"message.js","name":"me","original":{"line":353,"column":18},"generated":{"line":1,"column":4756}},{"source":"message.js","name":"msg","original":{"line":353,"column":21},"generated":{"line":1,"column":4758}},{"source":"message.js","name":"file_length","original":{"line":353,"column":25},"generated":{"line":1,"column":4762}},{"source":"message.js","original":{"line":353,"column":40},"generated":{"line":1,"column":4775}},{"source":"message.js","name":"filetype","original":{"line":354,"column":5},"generated":{"line":1,"column":4777}},{"source":"message.js","name":"me","original":{"line":354,"column":15},"generated":{"line":1,"column":4786}},{"source":"message.js","name":"msg","original":{"line":354,"column":18},"generated":{"line":1,"column":4788}},{"source":"message.js","name":"filetype","original":{"line":354,"column":22},"generated":{"line":1,"column":4792}},{"source":"message.js","name":"_send","original":{"line":356,"column":4},"generated":{"line":1,"column":4802}},{"source":"message.js","name":"me","original":{"line":356,"column":10},"generated":{"line":1,"column":4804}},{"source":"message.js","name":"msg","original":{"line":356,"column":13},"generated":{"line":1,"column":4806}},{"source":"message.js","name":"_tmpComplete","original":{"line":357,"column":4},"generated":{"line":1,"column":4811}},{"source":"message.js","name":"Function","original":{"line":357,"column":28},"generated":{"line":1,"column":4824}},{"source":"message.js","name":"_tmpComplete","original":{"line":357,"column":40},"generated":{"line":1,"column":4834}},{"source":"message.js","name":"data","original":{"line":357,"column":53},"generated":{"line":1,"column":4836}},{"source":"message.js","name":"me","original":{"line":357,"column":59},"generated":{"line":1,"column":4838}},{"source":"message.js","name":"msg","original":{"line":357,"column":62},"generated":{"line":1,"column":4840}},{"source":"message.js","name":"id","original":{"line":357,"column":66},"generated":{"line":1,"column":4844}},{"source":"message.js","name":"_utils","original":{"line":360,"column":3},"generated":{"line":1,"column":4849}},{"source":"message.js","name":"uploadFile","original":{"line":360,"column":10},"generated":{"line":1,"column":4851}},{"source":"message.js","name":"call","original":{"line":360,"column":21},"generated":{"line":1,"column":4862}},{"source":"message.js","name":"conn","original":{"line":360,"column":26},"generated":{"line":1,"column":4867}},{"source":"message.js","name":"me","original":{"line":360,"column":32},"generated":{"line":1,"column":4869}},{"source":"message.js","name":"msg","original":{"line":360,"column":35},"generated":{"line":1,"column":4871}},{"source":"message.js","original":{"line":362,"column":26},"generated":{"line":1,"column":4880}},{"source":"message.js","name":"me","original":{"line":362,"column":10},"generated":{"line":1,"column":4888}},{"source":"message.js","name":"msg","original":{"line":362,"column":13},"generated":{"line":1,"column":4890}},{"source":"message.js","name":"type","original":{"line":362,"column":17},"generated":{"line":1,"column":4894}},{"source":"message.js","name":"_send","original":{"line":363,"column":3},"generated":{"line":1,"column":4899}},{"source":"message.js","name":"me","original":{"line":363,"column":9},"generated":{"line":1,"column":4901}},{"source":"message.js","name":"msg","original":{"line":363,"column":12},"generated":{"line":1,"column":4903}},{"source":"message.js","name":"me","original":{"line":366,"column":3},"generated":{"line":1,"column":4909}},{"source":"message.js","name":"msg","original":{"line":366,"column":6},"generated":{"line":1,"column":4911}},{"source":"message.js","name":"body","original":{"line":366,"column":10},"generated":{"line":1,"column":4915}},{"source":"message.js","original":{"line":366,"column":17},"generated":{"line":1,"column":4920}},{"source":"message.js","name":"type","original":{"line":367,"column":4},"generated":{"line":1,"column":4921}},{"source":"message.js","original":{"line":367,"column":26},"generated":{"line":1,"column":4926}},{"source":"message.js","name":"me","original":{"line":367,"column":10},"generated":{"line":1,"column":4935}},{"source":"message.js","name":"msg","original":{"line":367,"column":13},"generated":{"line":1,"column":4937}},{"source":"message.js","name":"type","original":{"line":367,"column":17},"generated":{"line":1,"column":4941}},{"source":"message.js","original":{"line":367,"column":35},"generated":{"line":1,"column":4946}},{"source":"message.js","name":"me","original":{"line":367,"column":43},"generated":{"line":1,"column":4952}},{"source":"message.js","name":"msg","original":{"line":367,"column":46},"generated":{"line":1,"column":4954}},{"source":"message.js","name":"type","original":{"line":367,"column":50},"generated":{"line":1,"column":4958}},{"source":"message.js","name":"msg","original":{"line":368,"column":6},"generated":{"line":1,"column":4963}},{"source":"message.js","name":"me","original":{"line":368,"column":11},"generated":{"line":1,"column":4967}},{"source":"message.js","name":"msg","original":{"line":368,"column":14},"generated":{"line":1,"column":4969}},{"source":"message.js","name":"msg","original":{"line":368,"column":18},"generated":{"line":1,"column":4973}},{"source":"message.js","original":{"line":370,"column":22},"generated":{"line":1,"column":4978}},{"source":"message.js","name":"me","original":{"line":370,"column":6},"generated":{"line":1,"column":4986}},{"source":"message.js","name":"msg","original":{"line":370,"column":9},"generated":{"line":1,"column":4988}},{"source":"message.js","name":"type","original":{"line":370,"column":13},"generated":{"line":1,"column":4992}},{"source":"message.js","name":"me","original":{"line":371,"column":4},"generated":{"line":1,"column":4997}},{"source":"message.js","name":"msg","original":{"line":371,"column":7},"generated":{"line":1,"column":4999}},{"source":"message.js","name":"body","original":{"line":371,"column":11},"generated":{"line":1,"column":5003}},{"source":"message.js","name":"action","original":{"line":371,"column":16},"generated":{"line":1,"column":5008}},{"source":"message.js","name":"me","original":{"line":371,"column":25},"generated":{"line":1,"column":5015}},{"source":"message.js","name":"msg","original":{"line":371,"column":28},"generated":{"line":1,"column":5017}},{"source":"message.js","name":"action","original":{"line":371,"column":32},"generated":{"line":1,"column":5021}},{"source":"message.js","original":{"line":373,"column":27},"generated":{"line":1,"column":5028}},{"source":"message.js","name":"me","original":{"line":373,"column":11},"generated":{"line":1,"column":5036}},{"source":"message.js","name":"msg","original":{"line":373,"column":14},"generated":{"line":1,"column":5038}},{"source":"message.js","name":"type","original":{"line":373,"column":18},"generated":{"line":1,"column":5042}},{"source":"message.js","name":"me","original":{"line":374,"column":4},"generated":{"line":1,"column":5049}},{"source":"message.js","name":"msg","original":{"line":374,"column":7},"generated":{"line":1,"column":5051}},{"source":"message.js","name":"body","original":{"line":374,"column":11},"generated":{"line":1,"column":5055}},{"source":"message.js","name":"addr","original":{"line":374,"column":16},"generated":{"line":1,"column":5060}},{"source":"message.js","name":"me","original":{"line":374,"column":23},"generated":{"line":1,"column":5065}},{"source":"message.js","name":"msg","original":{"line":374,"column":26},"generated":{"line":1,"column":5067}},{"source":"message.js","name":"addr","original":{"line":374,"column":30},"generated":{"line":1,"column":5071}},{"source":"message.js","name":"me","original":{"line":375,"column":4},"generated":{"line":1,"column":5076}},{"source":"message.js","name":"msg","original":{"line":375,"column":7},"generated":{"line":1,"column":5078}},{"source":"message.js","name":"body","original":{"line":375,"column":11},"generated":{"line":1,"column":5082}},{"source":"message.js","name":"lat","original":{"line":375,"column":16},"generated":{"line":1,"column":5087}},{"source":"message.js","name":"me","original":{"line":375,"column":22},"generated":{"line":1,"column":5091}},{"source":"message.js","name":"msg","original":{"line":375,"column":25},"generated":{"line":1,"column":5093}},{"source":"message.js","name":"lat","original":{"line":375,"column":29},"generated":{"line":1,"column":5097}},{"source":"message.js","name":"me","original":{"line":376,"column":4},"generated":{"line":1,"column":5101}},{"source":"message.js","name":"msg","original":{"line":376,"column":7},"generated":{"line":1,"column":5103}},{"source":"message.js","name":"body","original":{"line":376,"column":11},"generated":{"line":1,"column":5107}},{"source":"message.js","name":"lng","original":{"line":376,"column":16},"generated":{"line":1,"column":5112}},{"source":"message.js","name":"me","original":{"line":376,"column":22},"generated":{"line":1,"column":5116}},{"source":"message.js","name":"msg","original":{"line":376,"column":25},"generated":{"line":1,"column":5118}},{"source":"message.js","name":"lng","original":{"line":376,"column":29},"generated":{"line":1,"column":5122}},{"source":"message.js","name":"_send","original":{"line":378,"column":3},"generated":{"line":1,"column":5127}},{"source":"message.js","name":"me","original":{"line":378,"column":9},"generated":{"line":1,"column":5129}},{"source":"message.js","name":"msg","original":{"line":378,"column":12},"generated":{"line":1,"column":5131}},{"source":"message.js","name":"exports","original":{"line":382,"column":1},"generated":{"line":1,"column":5138}},{"source":"message.js","name":"_msg","original":{"line":382,"column":9},"generated":{"line":1,"column":5146}},{"source":"message.js","name":"_Message","original":{"line":382,"column":16},"generated":{"line":1,"column":5151}},{"source":"message.js","name":"exports","original":{"line":383,"column":1},"generated":{"line":1,"column":5153}},{"source":"message.js","name":"message","original":{"line":383,"column":9},"generated":{"line":1,"column":5161}},{"source":"message.js","name":"Message","original":{"line":383,"column":19},"generated":{"line":1,"column":5169}},{"source":"message.js","original":{"line":3,"column":1},"generated":{"line":1,"column":5171}}],"sources":{"message.js":"var StropheAll = require(\"./libs/strophe\");\r\n\r\n(function(){\r\n\tvar _utils = require(\"./utils\").utils;\r\n\tvar Message = function(type, id){\r\n\t\tif(!(this instanceof Message)){\r\n\t\t\treturn new Message(type);\r\n\t\t}\r\n\t\tthis._msg = {};\r\n\t\tif(typeof Message[type] === \"function\"){\r\n\t\t\tMessage[type].prototype.setGroup = this.setGroup;\r\n\t\t\tthis._msg = new Message[type](id);\r\n\t\t}\r\n\t\treturn this._msg;\r\n\t};\r\n\tMessage.prototype.setGroup = function(group){\r\n\t\tthis.body.group = group;\r\n\t};\r\n\r\n\t/*\r\n\t * Read Message\r\n\t */\r\n\tMessage.read = function(id){\r\n\t\tthis.id = id;\r\n\t\tthis.type = \"read\";\r\n\t};\r\n\r\n\tMessage.read.prototype.set = function(opt){\r\n\t\tthis.body = {\r\n\t\t\tackId: opt.id\r\n\t\t\t, to: opt.to\r\n\t\t};\r\n\t};\r\n\r\n\t/*\r\n\t * text message\r\n\t */\r\n\tMessage.txt = function(id){\r\n\t\tthis.id = id;\r\n\t\tthis.type = \"txt\";\r\n\t\tthis.body = {};\r\n\t};\r\n\tMessage.txt.prototype.set = function(opt){\r\n\t\tthis.value = opt.msg;\r\n\t\tthis.body = {\r\n\t\t\tid: this.id,\r\n\t\t\tfrom: opt.from,\r\n\t\t\tto: opt.to,\r\n\t\t\tmsg: this.value,\r\n\t\t\ttype: this.type,\r\n\t\t\troomType: opt.roomType,\r\n\t\t\tchatType: opt.chatType,\r\n\t\t\text: opt.ext || {},\r\n\t\t\tsuccess: opt.success,\r\n\t\t\tfail: opt.fail\r\n\t\t};\r\n\t\t!opt.roomType && delete this.body.roomType;\r\n\t};\r\n\r\n\t/*\r\n\t * cmd message\r\n\t */\r\n\tMessage.cmd = function(id){\r\n\t\tthis.id = id;\r\n\t\tthis.type = \"cmd\";\r\n\t\tthis.body = {};\r\n\t};\r\n\tMessage.cmd.prototype.set = function(opt){\r\n\t\tthis.value = \"\";\r\n\r\n\t\tthis.body = {\r\n\t\t\tto: opt.to,\r\n\t\t\tfrom: opt.from,\r\n\t\t\taction: opt.action,\r\n\t\t\tmsg: this.value,\r\n\t\t\ttype: this.type,\r\n\t\t\troomType: opt.roomType,\r\n\t\t\text: opt.ext || {}\r\n\t\t};\r\n\t\t!opt.roomType && delete this.body.roomType;\r\n\t};\r\n\r\n\t/*\r\n\t * loc message\r\n\t */\r\n\tMessage.location = function(id){\r\n\t\tthis.id = id;\r\n\t\tthis.type = \"loc\";\r\n\t\tthis.body = {};\r\n\t};\r\n\tMessage.location.prototype.set = function(opt){\r\n\t\tthis.body = {\r\n\t\t\tto: opt.to,\r\n\t\t\tfrom: opt.from,\r\n\t\t\ttype: this.type,\r\n\t\t\troomType: opt.roomType,\r\n\t\t\taddr: opt.addr,\r\n\t\t\tlat: opt.lat,\r\n\t\t\tlng: opt.lng,\r\n\t\t\tchatType: opt.chatType,\r\n\t\t\text: opt.ext || {}\r\n\t\t};\r\n\t};\r\n\r\n\t/*\r\n\t * img message\r\n\t */\r\n\tMessage.img = function(id){\r\n\t\tthis.id = id;\r\n\t\tthis.type = \"img\";\r\n\t\tthis.body = {};\r\n\t};\r\n\tMessage.img.prototype.set = function(opt){\r\n\t\t// opt.file = opt.file || _utils.getFileUrl(opt.fileInputId);\r\n\t\t// //console.log(opt)\r\n\t\tthis.value = opt.file;\r\n\t\tthis.body = {\r\n\t\t\tid: this.id,\r\n\t\t\tfile: this.value,\r\n\t\t\tapiUrl: opt.apiUrl,\r\n\t\t\tto: opt.to,\r\n\t\t\tfrom: opt.from,\r\n\t\t\ttype: this.type,\r\n\t\t\text: opt.ext || {},\r\n\t\t\troomType: opt.roomType,\r\n\t\t\tonFileUploadError: opt.onFileUploadError,\r\n\t\t\tonFileUploadComplete: opt.onFileUploadComplete,\r\n\t\t\tsuccess: opt.success,\r\n\t\t\tfail: opt.fail,\r\n\t\t\tflashUpload: opt.flashUpload,\r\n\t\t\twidth: opt.width,\r\n\t\t\theight: opt.height,\r\n\t\t\tbody: opt.body\r\n\t\t};\r\n\t\t!opt.roomType && delete this.body.roomType;\r\n\t};\r\n\r\n\t/*\r\n\t * audio message\r\n\t */\r\n\tMessage.audio = function(id){\r\n\t\tthis.id = id;\r\n\t\tthis.type = \"audio\";\r\n\t\tthis.body = {};\r\n\t};\r\n\tMessage.audio.prototype.set = function(opt){\r\n\t\topt.file = opt.file || _utils.getFileUrl(opt.fileInputId);\r\n\r\n\t\tthis.value = opt.file;\r\n\t\tthis.filename = opt.filename || this.value.filename;\r\n\r\n\t\tthis.body = {\r\n\t\t\tid: this.id,\r\n\t\t\tfile: this.value,\r\n\t\t\tfilename: this.filename,\r\n\t\t\tapiUrl: opt.apiUrl,\r\n\t\t\tto: opt.to,\r\n\t\t\tfrom: opt.from,\r\n\t\t\ttype: this.type,\r\n\t\t\text: opt.ext || {},\r\n\t\t\tlength: opt.length || 0,\r\n\t\t\troomType: opt.roomType,\r\n\t\t\tfile_length: opt.file_length,\r\n\t\t\tonFileUploadError: opt.onFileUploadError,\r\n\t\t\tonFileUploadComplete: opt.onFileUploadComplete,\r\n\t\t\tsuccess: opt.success,\r\n\t\t\tfail: opt.fail,\r\n\t\t\tflashUpload: opt.flashUpload,\r\n\t\t\tbody: opt.body\r\n\t\t};\r\n\t\t!opt.roomType && delete this.body.roomType;\r\n\t};\r\n\r\n\t/*\r\n\t * file message\r\n\t */\r\n\tMessage.file = function(id){\r\n\t\tthis.id = id;\r\n\t\tthis.type = \"file\";\r\n\t\tthis.body = {};\r\n\t};\r\n\tMessage.file.prototype.set = function(opt){\r\n\t\topt.file = opt.file || _utils.getFileUrl(opt.fileInputId);\r\n\r\n\t\tthis.value = opt.file;\r\n\t\tthis.filename = opt.filename || this.value.filename;\r\n\r\n\t\tthis.body = {\r\n\t\t\tid: this.id,\r\n\t\t\tfile: this.value,\r\n\t\t\tfilename: this.filename,\r\n\t\t\tapiUrl: opt.apiUrl,\r\n\t\t\tto: opt.to,\r\n\t\t\tfrom: opt.from,\r\n\t\t\ttype: this.type,\r\n\t\t\text: opt.ext || {},\r\n\t\t\troomType: opt.roomType,\r\n\t\t\tonFileUploadError: opt.onFileUploadError,\r\n\t\t\tonFileUploadComplete: opt.onFileUploadComplete,\r\n\t\t\tsuccess: opt.success,\r\n\t\t\tfail: opt.fail,\r\n\t\t\tflashUpload: opt.flashUpload,\r\n\t\t\tbody: opt.body\r\n\t\t};\r\n\t\t!opt.roomType && delete this.body.roomType;\r\n\t};\r\n\r\n\t/*\r\n\t * video message\r\n\t */\r\n\tMessage.video = function(id){\r\n\t\tthis.id = id;\r\n\t\tthis.type = \"file\";\r\n\t\tthis.body = {};\r\n\t};\r\n\tMessage.video.prototype.set = function(opt){\r\n\t\topt.file = opt.file || _utils.getFileUrl(opt.fileInputId);\r\n\r\n\t\tthis.value = opt.file;\r\n\t\tthis.filename = opt.filename || this.value.filename;\r\n\r\n\t\tthis.body = {\r\n\t\t\tid: this.id,\r\n\t\t\tfile: this.value,\r\n\t\t\tfilename: this.filename,\r\n\t\t\tapiUrl: opt.apiUrl,\r\n\t\t\tto: opt.to,\r\n\t\t\tfrom: opt.from,\r\n\t\t\ttype: this.type,\r\n\t\t\text: opt.ext || {},\r\n\t\t\troomType: opt.roomType,\r\n\t\t\tonFileUploadError: opt.onFileUploadError,\r\n\t\t\tonFileUploadComplete: opt.onFileUploadComplete,\r\n\t\t\tsuccess: opt.success,\r\n\t\t\tfail: opt.fail,\r\n\t\t\tflashUpload: opt.flashUpload,\r\n\t\t\tbody: opt.body\r\n\t\t};\r\n\t\t!opt.roomType && delete this.body.roomType;\r\n\t};\r\n\r\n\r\n\r\n\r\n\tfunction _Message(message){\r\n\t\tif(!(this instanceof _Message)){\r\n\t\t\treturn new _Message(message);\r\n\t\t}\r\n\t\tthis.msg = message;\r\n\t}\r\n\t_Message.prototype.send = function(conn){\r\n\t\tvar me = this;\r\n\t\tvar _send = function(message){\r\n\t\t\tmessage.ext = message.ext || {};\r\n\t\t\tmessage.ext.weichat = message.ext.weichat || {};\r\n\t\t\tmessage.ext.weichat.originType = message.ext.weichat.originType || \"webim\";\r\n\t\t\tlet json = {\r\n\t\t\t\tfrom: conn.context.userId || \"\",\r\n\t\t\t\tto: message.to,\r\n\t\t\t\tbodies: [message.body],\r\n\t\t\t\text: message.ext || {},\r\n\t\t\t};\r\n\t\t\tlet jsonstr = _utils.stringify(json);\r\n\t\t\tlet dom = StropheAll\r\n\t\t\t.$msg({\r\n\t\t\t\ttype: message.group || \"chat\",\r\n\t\t\t\tto: message.toJid,\r\n\t\t\t\tid: message.id,\r\n\t\t\t\txmlns: \"jabber:client\",\r\n\t\t\t})\r\n\t\t\t.c(\"body\")\r\n\t\t\t.t(jsonstr);\r\n\r\n\t\t\tif(message.roomType){\r\n\t\t\t\tdom\r\n\t\t\t\t.up()\r\n\t\t\t\t.c(\"roomtype\", {\r\n\t\t\t\t\txmlns: \"easemob:x:roomtype\",\r\n\t\t\t\t\ttype: \"chatroom\"\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif(message.bodyId){\r\n\t\t\t\tdom = StropheAll\r\n\t\t\t\t.$msg({\r\n\t\t\t\t\tfrom: conn.context.jid || \"\",\r\n\t\t\t\t\tto: message.toJid,\r\n\t\t\t\t\tid: message.id,\r\n\t\t\t\t\txmlns: \"jabber:client\"\r\n\t\t\t\t})\r\n\t\t\t\t.c(\"body\")\r\n\t\t\t\t.t(message.bodyId);\r\n\r\n\t\t\t\tlet delivery = {\r\n\t\t\t\t\txmlns: \"urn:xmpp:receipts\",\r\n\t\t\t\t\tid: message.bodyId\r\n\t\t\t\t};\r\n\t\t\t\tdom.up().c(\"delivery\", delivery);\r\n\t\t\t}\r\n\r\n\t\t\tif(message.ackId){\r\n\r\n\t\t\t\tif(conn.context.jid.indexOf(message.toJid) >= 0){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tdom = StropheAll.$msg({\r\n\t\t\t\t\tfrom: conn.context.jid || \"\"\r\n\t\t\t\t\t, to: message.toJid\r\n\t\t\t\t\t, id: message.id\r\n\t\t\t\t\t, xmlns: \"jabber:client\"\r\n\t\t\t\t}).c(\"body\").t(message.ackId);\r\n\t\t\t\tlet read = {\r\n\t\t\t\t\txmlns: \"urn:xmpp:receipts\"\r\n\t\t\t\t\t, id: message.ackId\r\n\t\t\t\t};\r\n\t\t\t\tdom.up().c(\"acked\", read);\r\n\t\t\t}\r\n\r\n\t\t\t// setTimeout(function(){\r\n\t\t\t// \tif(typeof _msgHash !== \"undefined\" && _msgHash[message.id]){\r\n\t\t\t// \t\t_msgHash[message.id].msg.fail instanceof Function\r\n\t\t\t// \t\t\t&& _msgHash[message.id].msg.fail(message.id);\r\n\t\t\t// \t}\r\n\t\t\t// }, 60000);\r\n\t\t\tconn.sendCommand(dom.tree(), message.id);\r\n\t\t};\r\n\r\n\r\n\t\tif(me.msg.file){\r\n\t\t\tif(me.msg.body && me.msg.body.url){// Only send msg\r\n\t\t\t\t_send(me.msg);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet _tmpComplete = me.msg.onFileUploadComplete;\r\n\t\t\tlet _complete = function(data){\r\n\t\t\t\tif(data.entities[0][\"file-metadata\"]){\r\n\t\t\t\t\tlet file_len = data.entities[0][\"file-metadata\"][\"content-length\"];\r\n\t\t\t\t\tme.msg.file_length = file_len;\r\n\t\t\t\t\tme.msg.filetype = data.entities[0][\"file-metadata\"][\"content-type\"];\r\n\t\t\t\t\tif(file_len > 204800){\r\n\t\t\t\t\t\tme.msg.thumbnail = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tme.msg.body = {\r\n\t\t\t\t\ttype: me.msg.type || \"file\",\r\n\t\t\t\t\turl: data.uri + \"/\" + data.entities[0].uuid,\r\n\t\t\t\t\tsecret: data.entities[0][\"share-secret\"],\r\n\t\t\t\t\tfilename: me.msg.file.filename || me.msg.filename,\r\n\t\t\t\t\tsize: {\r\n\t\t\t\t\t\twidth: me.msg.width || 0\r\n\t\t\t\t\t\t, height: me.msg.height || 0\r\n\t\t\t\t\t},\r\n\t\t\t\t\tlength: me.msg.length || 0,\r\n\t\t\t\t\tfile_length: me.msg.file_length || 0,\r\n\t\t\t\t\tfiletype: me.msg.filetype,\r\n\t\t\t\t};\r\n\t\t\t\t_send(me.msg);\r\n\t\t\t\t_tmpComplete instanceof Function && _tmpComplete(data, me.msg.id);\r\n\t\t\t};\r\n\t\t\tme.msg.onFileUploadComplete = _complete;\r\n\t\t\t_utils.uploadFile.call(conn, me.msg);\r\n\t\t}\r\n\t\telse if(me.msg.type === \"img\"){                                             //  添加img判断规则   wjy\r\n\t\t\t_send(me.msg);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tme.msg.body = {\r\n\t\t\t\ttype: me.msg.type === \"chat\" ? \"txt\" : me.msg.type\r\n\t\t\t\t, msg: me.msg.msg\r\n\t\t\t};\r\n\t\t\tif(me.msg.type === \"cmd\"){\r\n\t\t\t\tme.msg.body.action = me.msg.action;\r\n\t\t\t}\r\n\t\t\telse if(me.msg.type === \"loc\"){\r\n\t\t\t\tme.msg.body.addr = me.msg.addr;\r\n\t\t\t\tme.msg.body.lat = me.msg.lat;\r\n\t\t\t\tme.msg.body.lng = me.msg.lng;\r\n\t\t\t}\r\n\t\t\t_send(me.msg);\r\n\t\t}\r\n\t};\r\n\r\n\texports._msg = _Message;\r\n\texports.message = Message;\r\n}());\r\n"},"lineCount":null}},"error":null,"hash":"72fbf14c45343cd628418f7361a00d0b","cacheData":{"env":{}}}